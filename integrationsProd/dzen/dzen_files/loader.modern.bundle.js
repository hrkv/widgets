(()=>{var e={6653:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.AdFacade=t.parseBlockId=t.DirectBlockType=t.getDirectSiteTheme=t.directInitContext=t.getRsyaAdvManager=t.AdvertChunkCounter=t.DirectProduct=void 0,i(r(6177),t);var o=r(9519);Object.defineProperty(t,"DirectProduct",{enumerable:!0,get:function(){return o.DirectProduct}});var a=r(3767);Object.defineProperty(t,"AdvertChunkCounter",{enumerable:!0,get:function(){return a.AdvertChunkCounter}});var s=r(3841);Object.defineProperty(t,"getRsyaAdvManager",{enumerable:!0,get:function(){return s.getRsyaAdvManager}}),Object.defineProperty(t,"directInitContext",{enumerable:!0,get:function(){return s.initContext}});var d=r(2532);Object.defineProperty(t,"getDirectSiteTheme",{enumerable:!0,get:function(){return d.getDirectSiteTheme}}),Object.defineProperty(t,"DirectBlockType",{enumerable:!0,get:function(){return d.DirectBlockType}});var c=r(4189);Object.defineProperty(t,"parseBlockId",{enumerable:!0,get:function(){return c.parseBlockId}});var l=r(8488);Object.defineProperty(t,"AdFacade",{enumerable:!0,get:function(){return l.AdFacade}})},8488:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AdFacade=void 0;const a=o(r(9196)),s=r(6177),d=r(5759),c=r(8093),l=r(4189),u=r(2548),p={[s.ErrorType.noAds]:"No ads for render",[s.ErrorType.appendScript]:"Error while append script",[s.ErrorType.scriptError]:"Script Error",[s.ErrorType.incorrectType]:"Incorrect type of banner"};t.AdFacade=a.default.memo((e=>{const t=(0,a.useMemo)((()=>{if(e.pixelData&&e.adData){const t=e.type===s.AdPlatform.direct?(0,l.parseBlockId)(e.adData.directOptions.blockId):{pageId:e.adData.myTargetOptions.slotId};return Object.assign(Object.assign({},e.pixelData),{pixelStaticData:Object.assign(Object.assign({},e.pixelData.pixelStaticData),t)})}}),[e.type,e.pixelData,e.adData]),r=(0,a.useMemo)((()=>(0,c.getSplitPixelCallbacks)({pixelData:t,logger:e.logger})),[t,e.logger]);(0,a.useEffect)((()=>{null==r||r.sendDspSelectPixel()}),[]);const n=(0,a.useCallback)((t=>{var n,i;null===(i=(n=e.adData.directOptions).onAdRender)||void 0===i||i.call(n,t);const o={inventory:s.AdInventory.banner};t.advData&&t.advData.length>0&&(o.hitLogId=t.advData[0].hitLogId,o.count=t.advData.length,o.bidReqId=t.advData[0].bidReqIdStr),null==r||r.sendRenderSuccessPixel(o)}),[e.adData.directOptions,r]),i=(0,a.useCallback)((t=>{var n,i;null===(i=(n=e.adData.myTargetOptions).onAdRender)||void 0===i||i.call(n,t),null==r||r.sendRenderSuccessPixel({inventory:s.AdInventory.banner,count:1})}),[e.adData.myTargetOptions,r]),o=(0,a.useCallback)(((t,n={})=>{var i;null==r||r.sendRenderFailPixel();e.isCustomMonetization&&t===s.ErrorType.noAds||null===(i=e.logger)||void 0===i||i.call(e,{message:`Ads ${e.type}: ${p[t]}`,additional:Object.assign({type:e.type,directOptions:e.adData.directOptions,myTargetOptions:e.adData.myTargetOptions},n)})}),[e,r]),m=(0,a.useCallback)((()=>{var t,r;o(s.ErrorType.noAds),null===(r=(t=e.adData).onNoAd)||void 0===r||r.call(t)}),[o,e.adData]),g=(0,a.useCallback)(((t,r)=>{var n,i;o(t,r),null===(i=(n=e.adData).onAdError)||void 0===i||i.call(n)}),[o,e.adData]);switch(e.type){case s.AdPlatform.myTarget:return a.default.createElement(u.MyTargetFacade,{adData:e.adData,className:e.className,isWaiting:e.isWaiting,onAdsSuccess:i,onError:g,onNoAds:m,onPrepareLoading:e.onPrepareLoading,onStartLoading:e.onStartLoading});case s.AdPlatform.direct:return a.default.createElement(d.AdDirect,{adData:e.adData,className:e.className,isWaiting:e.isWaiting,style:e.style,onRender:n,onError:g,onNoAds:m,onPrepareLoading:e.onPrepareLoading,onStartLoading:e.onStartLoading},e.children);default:return g(s.ErrorType.incorrectType),null}}))},5759:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AdDirect=void 0;const s=o(r(9196)),d=r(3841),c=r(6177),l=r(1578),u=r(7133),p=r(1279);t.AdDirect=s.default.memo((({adData:e,isWaiting:t,className:r,children:n,style:i,onPrepareLoading:o,onStartLoading:m,onError:g,onRender:b,onNoAds:f})=>{const{scriptOptions:_,renderOptions:h,dataBlockId:y,domElementId:v,onClick:I}=(0,u.parseOptions)(e),O=(0,s.useCallback)((({target:e})=>{e instanceof SVGElement||null==I||I()}),[I]),S=(0,s.useCallback)((()=>a(void 0,void 0,void 0,(function*(){try{yield(0,d.renderRsya)({renderOptions:Object.assign(Object.assign({},h),{renderTo:v,onError:e=>g(c.ErrorType.scriptError,e),onRender:b}),altCallback:f,scriptOptions:_,onPrepareLoading:o,onStartLoading:m})}catch(e){const t=(0,l.getErrorInstance)(e);g(c.ErrorType.scriptError,{error:t.message,errorStack:t.stack})}}))),[h,v,b,f,_,o,m,g]);return(0,p.useRenderOnce)(S,t),s.default.createElement("div",{"data-block-id":y,id:v,style:i,className:r,onClickCapture:O},n)}))},3841:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.renderRsya=t.getRsyaAdvManager=t.initContext=t.waitReject=void 0;const i=r(7838);t.waitReject=(e,t)=>new Promise(((r,n)=>{setTimeout((()=>n(t)),e)}));let o,a=!1;function s(e){var r,i;return n(this,void 0,void 0,(function*(){return(null===(i=null===(r=window.Ya)||void 0===r?void 0:r.Context)||void 0===i?void 0:i.AdvManager)||(yield(0,t.initContext)(e)),window.Ya.Context.AdvManager}))}t.initContext=e=>{if(!o){if(window.Ya&&window.Ya.Context&&window.Ya.Context.AdvManager)return Promise.resolve();const r=new Promise(((t,r)=>{window.yaContextCb=window.yaContextCb||[],window.yaContextCb.push((()=>{if(window.Ya&&window.Ya.Context&&window.Ya.Context.AdvManager){if(a)return void(o=Promise.resolve());t()}r(new Error("window.Ya.Context.AdvManager not found"))})),(null==e?void 0:e.loadJs)&&(null==e?void 0:e.pCodeLoaderBundleUrl)?null==e||e.loadJs(null==e?void 0:e.pCodeLoaderBundleUrl).catch((()=>r(new Error("Fail load Rsya bundle")))):(0,i.appendScript)("https://yandex.ru/ads/system/context.js","zen-direct",{crossOrigin:(null==e?void 0:e.disableCrossOrigin)?void 0:i.CrossOrigin.anonymous,onerror:e=>r(e)})})),n=(0,t.waitReject)(15e3,new Error("Сannot load Rsya context: timeout Error")).catch((e=>{throw a=!0,e}));o=Promise.race([r,n])}return o},t.getRsyaAdvManager=s,t.renderRsya=function({renderOptions:e,altCallback:t,scriptOptions:r,onPrepareLoading:i,onStartLoading:o}){return n(this,void 0,void 0,(function*(){null==i||i();const n=yield s(r);null==o||o(),n.render(e,t)}))}},7133:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseOptions=void 0;const r=e=>({lang:e.directOptions.lang,renderTo:e.directOptions.domElementId,blockId:e.directOptions.blockId,statId:e.directOptions.statId,siteTheme:e.directOptions.siteTheme,pageNumber:e.advertIndex,cspNonce:e.directOptions.cspNonce,data:e.directOptions.data,extParams:e.directOptions.extParams,bundle:e.directOptions.bundle,onRender:e.directOptions.onAdRender,allowRepeatAds:e.directOptions.allowRepeatAds,darkTheme:e.directOptions.darkTheme,altCallback:e.onNoAd,onHide:e.onAdHide,onError:e.onAdError,videoCallbacks:e.directOptions.videoCallbacks,skipToken:e.directOptions.skipToken}),n=({directOptions:{loadJs:e,pCodeLoaderBundleUrl:t,disableCrossOrigin:r}})=>({loadJs:e,pCodeLoaderBundleUrl:t,disableCrossOrigin:r});t.parseOptions=e=>({renderOptions:r(e),scriptOptions:n(e),dataBlockId:e.directOptions.domElementIdAttr,domElementId:e.directOptions.domElementId,onClick:e.onAdClick})},9519:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectProduct=void 0,function(e){e.direct="direct",e.rtb="rtb",e.native="native",e.unknown="unknown"}(t.DirectProduct||(t.DirectProduct={}))},1279:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRenderOnce=void 0;const n=r(9196);t.useRenderOnce=(e,t=!1)=>{const r=(0,n.useRef)(!1);(0,n.useEffect)((()=>{t||r.current||(r.current=!0,e())}),[t,e])}},2548:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MyTargetFacade=void 0;const a=o(r(9196)),s=r(2038),d=r(3655),c=r(7864);t.MyTargetFacade=a.default.memo((e=>{const[t,r]=(0,a.useState)(Boolean(e.adData.myTargetOptions.isJsonBlock)),n=(0,a.useCallback)((()=>{r(!1)}),[]),i=(0,a.useCallback)((t=>{var r;(null===(r=t.data.json)||void 0===r?void 0:r.bannerID)&&c.MyTargetShowedBanners.addBanner(t.data.json.bannerID),e.onAdsSuccess(t)}),[e.onAdsSuccess]);return t?a.default.createElement(d.MyTargetJson,Object.assign({},e,{onHtmlAnswer:n,onAdsSuccess:i})):a.default.createElement(s.MyTargetHtml,Object.assign({},e,{onAdsSuccess:i}))}))},2038:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MyTargetHtml=void 0;const s=o(r(9196)),d=a(r(3849)),c=r(8258),l=r(6177),u=r(6119),p=r(1279),m=r(1578),g=r(8281),b=r(7864);t.MyTargetHtml=s.default.memo((({className:e,adData:t,onPrepareLoading:r,onStartLoading:n,isWaiting:i,onAdsSuccess:o,onError:a,onNoAds:f})=>{const _=(0,s.useRef)(null),{onAdsClicked:h,slotId:y,advertIndex:v,iframeMode:I,singleRequest:O,preventAutoLoad:S,disableCollect:k,additionalQueryParams:w}=(0,s.useMemo)((()=>(0,u.getMyTargetOptions)(t)),[t]),A=(0,s.useCallback)((()=>{try{(0,c.render)({options:{element:null!==_.current?_.current:void 0,iframeMode:I,singleRequest:O,preventAutoLoad:S,disableCollect:k,onAdsClicked:h,onAdsSuccess:o,onNoAds:f,onScriptError:e=>a(l.ErrorType.scriptError,{error:e.error,slot:e.slot})},onError:()=>a(l.ErrorType.appendScript),onPrepareLoading:r,onStartLoading:n})}catch(e){const t=(0,m.getErrorInstance)(e);a(l.ErrorType.scriptError,{error:t.message,errorStack:t.stack})}}),[I,O,S,k,h,o,f,r,n,a]),P=(0,s.useMemo)((()=>{const e=[];w&&Object.entries(w).forEach((([t,r])=>{void 0!==r&&e.push(`${(0,g.getQueryParamKey)(t)}=${r}`)}));const t=b.MyTargetShowedBanners.getShowedBanners();return t.size>0&&e.push(`${(0,g.getQueryParamKey)("showedBanners")}=${Array.from(t).join(",")}`),e.join("&")}),[w]);(0,p.useRenderOnce)(A,i);const T=`ad-${y}`,C=y+(void 0!==v?`.${v}`:""),E=void 0!==(null==w?void 0:w.chunkId)?w.chunkId.toString():void 0;return s.default.createElement("ins",{ref:_,className:(0,d.default)("mrg-tag",e),"data-ad-slot":C,"data-ad-client":T,"data-ad-chunk":E,"data-ad-query":P})}))},3655:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MyTargetJson=void 0;const a=o(r(9196)),s=r(8258),d=r(6177),c=r(6119),l=r(1279),u=r(1578);t.MyTargetJson=a.default.memo((({adData:e,onPrepareLoading:t,onStartLoading:r,isWaiting:n,onAdsSuccess:i,onError:o,onNoAds:p,onHtmlAnswer:m})=>{const[g,b]=(0,a.useState)(void 0),{additionalQueryParams:f,advertIndex:_,slotId:h,onAdsClicked:y,myTargetRender:v}=(0,a.useMemo)((()=>(0,c.getMyTargetOptionsForJson)(e)),[e]),I=(0,a.useCallback)((e=>{b(e.json)}),[]),O=(0,a.useMemo)((()=>g&&v?v(g):null),[g]),S=(0,a.useCallback)((()=>{try{(0,s.renderJson)({options:{slotId:h,advertIndex:_,additionalQueryParams:f,onAdsClicked:y,onAdsSuccess:i,onNoAds:p,onJsonAnswer:I,onScriptError:e=>o(d.ErrorType.scriptError,{error:e.error,slot:e.slot}),onHtmlAnswer:m},onError:()=>o(d.ErrorType.appendScript),onPrepareLoading:t,onStartLoading:r})}catch(e){const t=(0,u.getErrorInstance)(e);o(d.ErrorType.scriptError,{error:t.message,errorStack:t.stack})}}),[y,i,p,t,r,o]);return(0,l.useRenderOnce)(S,n),O}))},6946:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdBlock=void 0;const n=r(1578),i=r(8281);t.AdBlock=class{constructor({slotId:e,additionalQueryParams:t,callbacks:r,advertIndex:n}){this.callbacks=r,this.slotId=e,this.advertIndex=n,t&&this.setQueryParams(t)}render(e){try{this.banner=e.banner,e.html?this.triggerHtmlAnswer():e.json&&Object.keys(e.json).length>0?(this.triggerJsonAnswer({json:e.json}),this.triggerAdSuccess(e)):this.triggerNoAds()}catch(e){this.triggerAdError((0,n.getErrorInstance)(e))}}setQueryParams(e){const t={};Object.entries(e).forEach((([e,r])=>{void 0!==r&&(t[(0,i.getQueryParamKey)(e)]=r.toString())})),this.queryParams=new URLSearchParams(t)}getSlotIdForQuery(){return void 0!==this.advertIndex?`${this.slotId}.${this.advertIndex}`:this.slotId}triggerAdSuccess(e){this.callbacks.onAdsSuccess&&this.callbacks.onAdsSuccess({slot:this.slotId,data:e})}triggerAdLoaded(e){this.callbacks.onAdsLoaded&&this.callbacks.onAdsLoaded(e)}triggerNoAds(){this.callbacks.onNoAds&&this.callbacks.onNoAds({slot:this.slotId})}triggerJsonAnswer(e){this.callbacks.onJsonAnswer&&this.callbacks.onJsonAnswer(e)}triggerAdError(e){this.callbacks.onScriptError&&this.callbacks.onScriptError({slot:this.slotId,error:e})}triggerHtmlAnswer(){this.callbacks.onHtmlAnswer&&this.callbacks.onHtmlAnswer(),console.error("MyTarget: Html response in json answer",{slotId:this.slotId,banner:this.banner})}}},331:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addBlockToRender=void 0;const n=r(9569);let i;const o=[],a=()=>{const e=new n.AdRequest;for(;o.length>0;)e.addBlockToRequest(o.pop());e.doRequest()};t.addBlockToRender=e=>{o.push(e),i&&clearTimeout(i),o.length>0&&(i=setTimeout(a,0))}},1969:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdRequest=void 0;const n=r(6992),i=r(3767),o=r(1578),a=r(8281),s=r(7864);t.AdRequest=class{constructor(){this.url=new URL("https://ad.mail.ru/adp/"),this.slotsMap={},this.queryParams=new URLSearchParams}addBlockToSlotsMap(e){this.slotsMap[e.slotId]||(this.slotsMap[e.slotId]=[]),this.slotsMap[e.slotId].push(e)}getAllBlocks(){return Object.values(this.slotsMap).reduce(((e,t)=>e.concat(t)),[])}requestCallback(e){e.forEach((t=>{const r=t.slot;if(r&&this.slotsMap[r].length>0){const n=this.slotsMap[r].shift();null==n||n.triggerAdLoaded(e),null==n||n.render(t),0===this.slotsMap[r].length&&delete this.slotsMap[r]}})),this.getAllBlocks().forEach((e=>{e.triggerNoAds()}))}handleError(e){this.getAllBlocks().forEach((t=>{t.triggerAdError(e)}))}addBlockToRequest(e){var t;e&&(this.url.searchParams.append("q",e.getSlotIdForQuery()),this.addBlockToSlotsMap(e),null===(t=e.queryParams)||void 0===t||t.forEach(((e,t)=>{const r=(0,a.getQueryParamKey)(t);this.queryParams.has(r)?this.queryParams.get(r)!==e&&this.queryParams.append(r,e):this.queryParams.set(r,e)})))}doRequest(){this.queryParams.forEach(((e,t)=>{this.url.searchParams.set(t,e)}));const e=s.MyTargetShowedBanners.getShowedBanners();e.size>0&&this.url.searchParams.set("last_shown_ids",Array.from(e).join(",")),this.url.searchParams.set("vk",String(window.localStorage.getItem(n.VK_AUTH_LOCAL_STORAGE_KEY)||0)),this.url.searchParams.set("data-ad-chunk",i.AdvertChunkCounter.getChunkId().toString()),i.AdvertChunkCounter.increment();try{fetch(this.url.toString()).then((e=>e.json())).then((e=>{this.requestCallback(e)}))}catch(e){this.handleError((0,o.getErrorInstance)(e))}}}},6992:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VK_AUTH_LOCAL_STORAGE_KEY=void 0,t.VK_AUTH_LOCAL_STORAGE_KEY="trgVkAuth"},9569:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MyTargetAdvManager=t.AdRequest=t.addBlockToRender=t.AdBlock=void 0;var n=r(6946);Object.defineProperty(t,"AdBlock",{enumerable:!0,get:function(){return n.AdBlock}});var i=r(331);Object.defineProperty(t,"addBlockToRender",{enumerable:!0,get:function(){return i.addBlockToRender}});var o=r(1969);Object.defineProperty(t,"AdRequest",{enumerable:!0,get:function(){return o.AdRequest}});var a=r(6944);Object.defineProperty(t,"MyTargetAdvManager",{enumerable:!0,get:function(){return a.MyTargetAdvManager}})},6944:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MyTargetAdvManager=void 0;const n=r(331),i=r(6946),o=r(1256),a=r(6992),s=e=>({onAdsLoaded:e.onAdsLoaded,onAdsSuccess:e.onAdsSuccess,onAdsClosed:e.onAdsClosed,onJsonAnswer:e.onJsonAnswer,onNoAds:e.onNoAds,onHtmlAnswer:e.onHtmlAnswer});t.MyTargetAdvManager=class{constructor(){window.addEventListener("message",(e=>{let t=!1;!e.origin.includes("ad.mail.ru")&&("connected"!==e.data&&"not_authorized"!==e.data||(t=!0))&&window.localStorage.setItem(a.VK_AUTH_LOCAL_STORAGE_KEY,Number(t||0).toString())}),!1),(0,o.createHiddenIframe)(document.body,"https://ad.mail.ru/dist/vkAuth.html")}static get Instance(){return this._instance||(this._instance=new this)}render(e){if(e.slotId){const t=new i.AdBlock({slotId:e.slotId,advertIndex:e.advertIndex,additionalQueryParams:e.additionalQueryParams,callbacks:s(e)});(0,n.addBlockToRender)(t)}}static destroy(){this._instance&&delete this._instance}}},1256:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createHiddenIframe=void 0;t.createHiddenIframe=(e,t,r)=>{const n=document.createElement("iframe");n.src=t,n.style.display="none",n.setAttribute("sandbox","allow-same-origin allow-forms allow-popups allow-scripts allow-pointer-lock allow-popups-to-escape-sandbox"),r&&(n.onload=r),e.appendChild(n)}},8258:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderJson=t.render=void 0;const n=r(7838),i=r(9569),o="https://ad.mail.ru/static/ads-async.js",a="zen-my-target";t.render=function({options:e,onError:t,onPrepareLoading:r,onStartLoading:i}){r&&r(),window.MRGtag||(0,n.appendScript)(o,a,{onerror:t}),i&&i(),window.MRGtag=window.MRGtag||[],window.MRGtag.push(e)},t.renderJson=function({options:e,onError:t,onPrepareLoading:r,onStartLoading:s}){r&&r(),window.MRGtag||(0,n.appendScript)(o,a,{onerror:t});const d=i.MyTargetAdvManager.Instance;s&&s(),d.render(e)}},8281:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getQueryParamKey=void 0;const r={chunkId:"data-ad-chunk",dzenUid:"dzenuid",vkId:"vk_id"};t.getQueryParamKey=e=>r[e]||e},6119:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMyTargetOptionsForJson=t.getMyTargetOptions=void 0;t.getMyTargetOptions=e=>({additionalQueryParams:e.myTargetOptions.additionalQueryParams,advertIndex:e.advertIndex,disableCollect:e.myTargetOptions.disableCollect,iframeMode:e.myTargetOptions.iframeMode,preventAutoLoad:e.myTargetOptions.preventAutoLoad,singleRequest:e.myTargetOptions.singleRequest,slotId:e.myTargetOptions.slotId,onAdsClicked:e.onAdClick,onAdsClosed:e.onAdHide,onAdsSuccess:e.myTargetOptions.onAdRender,onNoAds:e.onNoAd,onScriptError:e.onAdError});t.getMyTargetOptionsForJson=e=>({additionalQueryParams:e.myTargetOptions.additionalQueryParams,advertIndex:e.advertIndex,slotId:e.myTargetOptions.slotId,onAdsClicked:e.onAdClick,myTargetRender:e.myTargetOptions.myTargetRender})},6177:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorType=t.AdVideoPlayingState=t.AntiAdblockStatus=t.AdInventory=t.AdPlatform=t.AdDspId=void 0,function(e){e[e.Direct=1]="Direct",e[e.MyTarget=2]="MyTarget"}(t.AdDspId||(t.AdDspId={})),function(e){e.direct="direct",e.myTarget="mytarget"}(t.AdPlatform||(t.AdPlatform={})),function(e){e.banner="banner",e.instream="instream"}(t.AdInventory||(t.AdInventory={})),function(e){e[e.on=1]="on",e[e.off=0]="off"}(t.AntiAdblockStatus||(t.AntiAdblockStatus={})),function(e){e.PLAY="play",e.PAUSE="pause",e.IDLE="idle",e.END="end"}(t.AdVideoPlayingState||(t.AdVideoPlayingState={})),function(e){e.noAds="noAds",e.appendScript="appendScript",e.scriptError="scriptError",e.incorrectType="incorrectType"}(t.ErrorType||(t.ErrorType={}))},3767:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdvertChunkCounter=void 0;class r{constructor(){}static get Instance(){return this._instance||(this._instance=new this)}static getChunkId(){return this.chunkId}static increment(){this.chunkId++}}t.AdvertChunkCounter=r,r.chunkId=1},7838:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendScript=t.CrossOrigin=void 0,function(e){e.anonymous="anonymous",e.useCredentials="use-credentials"}(t.CrossOrigin||(t.CrossOrigin={})),t.appendScript=function(e,t,r){if(t&&document.querySelector(`#${t}`))return;const n=document.createElement("script");n.src=e,n.async=!0,t&&(n.id=t),(null==r?void 0:r.type)&&(n.type=r.type),(null==r?void 0:r.onload)&&(n.onload=r.onload),(null==r?void 0:r.onerror)&&(n.onerror=r.onerror),(null==r?void 0:r.crossOrigin)&&(n.crossOrigin=r.crossOrigin),document.head&&document.head.appendChild(n)}},1578:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorInstance=void 0;t.getErrorInstance=e=>e instanceof Error?e:new Error(String(e))},2532:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.getDirectSiteTheme=t.DirectBlockType=t.ColorThemes=void 0,function(e){e.bright="bright",e.black="black",e.white="white",e.portal="portal"}(r=t.ColorThemes||(t.ColorThemes={})),function(e){e.articleBody="articleBody",e.articleRight="articleRight",e.articleTop="articleTop",e.feed="feed",e.gallery="gallery"}(t.DirectBlockType||(t.DirectBlockType={})),t.getDirectSiteTheme=function(e,t,n){return`${e}_${n===r.black?"black":"white"}_${t?"touch":"desktop"}_horizontal`}},8093:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getSplitPixelCallbacks=t.PixelEvent=void 0;const i=r(1578);var o;!function(e){e.dspRequest="dsp_request",e.adsRendered="ads_rendered",e.adsRenderFailed="ads_render_failed"}(o=t.PixelEvent||(t.PixelEvent={}));const a=({eventType:e,pixelUrl:t,data:r,logger:o})=>n(void 0,void 0,void 0,(function*(){try{yield fetch(t,{method:"POST",body:JSON.stringify([Object.assign(Object.assign({},r),{eventType:e})])})}catch(n){const a=(0,i.getErrorInstance)(n);null==o||o({method:"sendSplitPixel",message:"Error while sending pixel",additional:{errorMessage:a.message,errorStack:a.stack,errorName:a.name,eventType:e,pixelUrl:t,data:r}})}}));t.getSplitPixelCallbacks=({pixelData:e,logger:t})=>{if(!e)return;let r=!1;return{sendDspSelectPixel:()=>n(void 0,void 0,void 0,(function*(){yield a({eventType:o.dspRequest,pixelUrl:e.pixelUrl,data:null==e?void 0:e.pixelStaticData,logger:t})})),sendRenderSuccessPixel:i=>n(void 0,void 0,void 0,(function*(){r||(r=!0,yield a({eventType:o.adsRendered,pixelUrl:e.pixelUrl,data:Object.assign(Object.assign({},null==e?void 0:e.pixelStaticData),i),logger:t}))})),sendRenderFailPixel:()=>n(void 0,void 0,void 0,(function*(){r||(r=!0,yield a({eventType:o.adsRenderFailed,pixelUrl:e.pixelUrl,data:null==e?void 0:e.pixelStaticData,logger:t}))}))}}},7864:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MyTargetShowedBanners=void 0;class r{constructor(){}static get Instance(){return this._instance||(this._instance=new this)}static getShowedBanners(){return this._showedBanners}static addBanner(e){this._showedBanners.add(e)}}t.MyTargetShowedBanners=r,r._showedBanners=new Set([])},4189:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBlockId=void 0;t.parseBlockId=(e="",t)=>{const r=/^\w+-\w+-(\d+)-(\d+)(-\d+)?$/g.exec(e);return r?{pageId:Number(r[1]),impId:Number(r[2])}:(null==t||t({method:"parseBlockId",message:`Unexpected blockId value: "${e}"`}),{})}},3849:(e,t)=>{var r;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var a=i.apply(null,r);a&&e.push(a)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var s in r)n.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},7980:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},3179:(e,t,r)=>{var n=r(6960)("unscopables"),i=Array.prototype;null==i[n]&&r(2506)(i,n,{}),e.exports=function(e){i[n][e]=!0}},8555:(e,t,r)=>{var n=r(5558);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},1783:(e,t,r)=>{var n=r(6443),i=r(2162),o=r(4656);e.exports=function(e){return function(t,r,a){var s,d=n(t),c=i(d.length),l=o(a,c);if(e&&r!=r){for(;c>l;)if((s=d[l++])!=s)return!0}else for(;c>l;l++)if((e||l in d)&&d[l]===r)return e||l||0;return!e&&-1}}},5769:(e,t,r)=>{var n=r(8349),i=r(6960)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:o?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},8349:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},2859:e=>{var t=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=t)},4747:(e,t,r)=>{var n=r(7980);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},9153:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},953:(e,t,r)=>{e.exports=!r(1881)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},5182:(e,t,r)=>{var n=r(5558),i=r(164).document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},5831:e=>{e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},7708:(e,t,r)=>{var n=r(164),i=r(2859),o=r(2506),a=r(7405),s=r(4747),d=function(e,t,r){var c,l,u,p,m=e&d.F,g=e&d.G,b=e&d.S,f=e&d.P,_=e&d.B,h=g?n:b?n[t]||(n[t]={}):(n[t]||{}).prototype,y=g?i:i[t]||(i[t]={}),v=y.prototype||(y.prototype={});for(c in g&&(r=t),r)u=((l=!m&&h&&void 0!==h[c])?h:r)[c],p=_&&l?s(u,n):f&&"function"==typeof u?s(Function.call,u):u,h&&a(h,c,u,e&d.U),y[c]!=u&&o(y,c,p),f&&v[c]!=u&&(v[c]=u)};n.core=i,d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,e.exports=d},1881:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},164:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},7342:e=>{var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},2506:(e,t,r)=>{var n=r(9907),i=r(9497);e.exports=r(953)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},8609:(e,t,r)=>{var n=r(164).document;e.exports=n&&n.documentElement},5138:(e,t,r)=>{e.exports=!r(953)&&!r(1881)((function(){return 7!=Object.defineProperty(r(5182)("div"),"a",{get:function(){return 7}}).a}))},3306:(e,t,r)=>{var n=r(8349);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},5558:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},3221:(e,t,r)=>{"use strict";var n=r(8827),i=r(9497),o=r(5607),a={};r(2506)(a,r(6960)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(a,{next:i(1,r)}),o(e,t+" Iterator")}},5146:(e,t,r)=>{"use strict";var n=r(3600),i=r(7708),o=r(7405),a=r(2506),s=r(1869),d=r(3221),c=r(5607),l=r(3548),u=r(6960)("iterator"),p=!([].keys&&"next"in[].keys()),m="keys",g="values",b=function(){return this};e.exports=function(e,t,r,f,_,h,y){d(r,t,f);var v,I,O,S=function(e){if(!p&&e in P)return P[e];switch(e){case m:case g:return function(){return new r(this,e)}}return function(){return new r(this,e)}},k=t+" Iterator",w=_==g,A=!1,P=e.prototype,T=P[u]||P["@@iterator"]||_&&P[_],C=T||S(_),E=_?w?S("entries"):C:void 0,x="Array"==t&&P.entries||T;if(x&&(O=l(x.call(new e)))!==Object.prototype&&O.next&&(c(O,k,!0),n||"function"==typeof O[u]||a(O,u,b)),w&&T&&T.name!==g&&(A=!0,C=function(){return T.call(this)}),n&&!y||!p&&!A&&P[u]||a(P,u,C),s[t]=C,s[k]=b,_)if(v={values:w?C:S(g),keys:h?C:S(m),entries:E},y)for(I in v)I in P||o(P,I,v[I]);else i(i.P+i.F*(p||A),t,v);return v}},6491:e=>{e.exports=function(e,t){return{value:t,done:!!e}}},1869:e=>{e.exports={}},3600:e=>{e.exports=!1},8827:(e,t,r)=>{var n=r(8555),i=r(2219),o=r(5831),a=r(2565)("IE_PROTO"),s=function(){},d=function(){var e,t=r(5182)("iframe"),n=o.length;for(t.style.display="none",r(8609).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),d=e.F;n--;)delete d.prototype[o[n]];return d()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[a]=e):r=d(),void 0===t?r:i(r,t)}},9907:(e,t,r)=>{var n=r(8555),i=r(5138),o=r(6303),a=Object.defineProperty;t.f=r(953)?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},2219:(e,t,r)=>{var n=r(9907),i=r(8555),o=r(8386);e.exports=r(953)?Object.defineProperties:function(e,t){i(e);for(var r,a=o(t),s=a.length,d=0;s>d;)n.f(e,r=a[d++],t[r]);return e}},3548:(e,t,r)=>{var n=r(7342),i=r(5747),o=r(2565)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},7905:(e,t,r)=>{var n=r(7342),i=r(6443),o=r(1783)(!1),a=r(2565)("IE_PROTO");e.exports=function(e,t){var r,s=i(e),d=0,c=[];for(r in s)r!=a&&n(s,r)&&c.push(r);for(;t.length>d;)n(s,r=t[d++])&&(~o(c,r)||c.push(r));return c}},8386:(e,t,r)=>{var n=r(7905),i=r(5831);e.exports=Object.keys||function(e){return n(e,i)}},9497:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7405:(e,t,r)=>{var n=r(164),i=r(2506),o=r(7342),a=r(6217)("src"),s="toString",d=Function.toString,c=(""+d).split(s);r(2859).inspectSource=function(e){return d.call(e)},(e.exports=function(e,t,r,s){var d="function"==typeof r;d&&(o(r,"name")||i(r,"name",t)),e[t]!==r&&(d&&(o(r,a)||i(r,a,e[t]?""+e[t]:c.join(String(t)))),e===n?e[t]=r:s?e[t]?e[t]=r:i(e,t,r):(delete e[t],i(e,t,r)))})(Function.prototype,s,(function(){return"function"==typeof this&&this[a]||d.call(this)}))},5607:(e,t,r)=>{var n=r(9907).f,i=r(7342),o=r(6960)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},2565:(e,t,r)=>{var n=r(7260)("keys"),i=r(6217);e.exports=function(e){return n[e]||(n[e]=i(e))}},7260:(e,t,r)=>{var n=r(2859),i=r(164),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(3600)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},3149:(e,t,r)=>{"use strict";var n=r(1881);e.exports=function(e,t){return!!e&&n((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},4656:(e,t,r)=>{var n=r(8418),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):o(e,t)}},8418:e=>{var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},6443:(e,t,r)=>{var n=r(3306),i=r(9153);e.exports=function(e){return n(i(e))}},2162:(e,t,r)=>{var n=r(8418),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},5747:(e,t,r)=>{var n=r(9153);e.exports=function(e){return Object(n(e))}},6303:(e,t,r)=>{var n=r(5558);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},6217:e=>{var t=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+r).toString(36))}},6960:(e,t,r)=>{var n=r(7260)("wks"),i=r(6217),o=r(164).Symbol,a="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=n},3208:(e,t,r)=>{"use strict";var n=r(3179),i=r(6491),o=r(1869),a=r(6443);e.exports=r(5146)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},7453:(e,t,r)=>{"use strict";var n=r(7708),i=r(7980),o=r(5747),a=r(1881),s=[].sort,d=[1,2,3];n(n.P+n.F*(a((function(){d.sort(void 0)}))||!a((function(){d.sort(null)}))||!r(3149)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},4072:(e,t,r)=>{"use strict";var n=r(5769),i={};i[r(6960)("toStringTag")]="z",i+""!="[object z]"&&r(7405)(Object.prototype,"toString",(function(){return"[object "+n(this)+"]"}),!0)},3311:(e,t,r)=>{"use strict";var n=r(7708),i=r(1783)(!0);n(n.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(3179)("includes")},1325:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;var n,i=Array.isArray(t),o=Array.isArray(r);if(i&&o){if(t.length!=r.length)return!1;for(n=0;n<t.length;n++)if(!e(t[n],r[n]))return!1;return!0}if(i!=o)return!1;if(t&&r&&"object"==typeof t&&"object"==typeof r){var a=Object.keys(t);if(a.length!==Object.keys(r).length)return!1;var s=t instanceof Date,d=r instanceof Date;if(s&&d)return t.getTime()==r.getTime();if(s!=d)return!1;var c=t instanceof RegExp,l=r instanceof RegExp;if(c&&l)return t.toString()==r.toString();if(c!=l)return!1;for(n=0;n<a.length;n++)if(!Object.prototype.hasOwnProperty.call(r,a[n]))return!1;for(n=0;n<a.length;n++)if(!e(t[a[n]],r[a[n]]))return!1;return!0}return!1}},9196:e=>{"use strict";e.exports=window.React}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};(()=>{"use strict";r.d(n,{default:()=>Mc});r(4072),r(3208);class e{constructor(){this._events={}}on(e,t){(this._events[e]||(this._events[e]=[])).push(t)}off(e,t){const r=this._events[e];if(!r)return;const n=r.indexOf(t);n>=0&&r.splice(n,1)}once(e,t){const r=()=>{this.off(e,t),this.off(e,r)};this.on(e,t),this.on(e,r)}subscribe(e,t){return this.on(e,t),()=>{this.off(e,t)}}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const i=this._events[e];i&&i.slice().forEach((e=>{e.apply(void 0,r)}))}}let t;!function(e){e.Default="default",e.Reload="reload",e.NoCache="no-cache",e.NoStore="no-store"}(t||(t={}));let i,o,a;!function(e){e.ONE_COLUMN="one_column",e.ONE_COLUMN_BIG="one_column_big",e.TWO_COLUMNS="two_column",e.TWO_COLUMNS_BIG="two_column_big",e.THREE_COLUMNS="three_column"}(i||(i={})),function(e){e.CARD="card",e.GIF="gif",e.SHORT_VIDEO="short_video",e.LONG_VIDEO_COMPACT="long_video_compact",e.LIVE="live",e.LIVE_RUN_OUT="live_run_out",e.SHORT_VIDEO_CAROUSEL="short_video_carousel",e.ONBOARDING_INTEREST_LIST="onboarding_interest_list",e.RTB="rtb_card",e.GALLERY="gallery",e.BRIEF="brief",e.INTERVIEW="interview",e.SHOWCASE_CARD="plain_card",e.SUBSCRIPTIONS_MORE="subscriptions_more",e.SUBSCRIPTIONS_HEADS="subscriptions_heads",e.RECOMMENDATIONS_CHANNELS="recommendations_channels",e.PROMO_PUBLISHERS_CAROUSEL="promo_publishers_carousel",e.NEWS="news",e.HIDDEN="hidden",e.SEARCH_PUBLISHERS="search_publishers",e.PROMO_PUBLICATIONS_CAROUSEL="promo_publications_carousel",e.LIVE_CAROUSEL="live_carousel",e.HISTORY_DATE_SEPARATOR="history_date_separator",e.AD_CAMPAIGN_CARD="ad_campaign_card",e.AD_CAMPAIGN_BANNER="ad_campaign_banner",e.AD_CAMPAIGN_COMPACT_BANNER="ad_campaign_compact_banner",e.AD_CAMPAIGN_QR_BANNER="ad_campaign_qr_banner",e.SMALL_CARD="small_card",e.SUBSCRIPTIONS_ENTRY="subscriptions_entry",e.SUBSCRIPTIONS_NO_LOGIN="subscriptions_no_login",e.SUBSCRIPTIONS_EMPTY_CARD="subscriptions_empty_card",e.SUBSCRIPTIONS_END="subscriptions_end",e.SUBSCRIPTIONS_RECOMMENDATIONS="subscriptions_recommendations",e.TOP_CONTENT_SET="top_content_set",e.DZEN_FIRST_PLACE="dzen_first_place",e.PUBLISHERS_CHANNEL_SUBSCRIBE_CARD="publishers_channel_subscribe_card"}(o||(o={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(a||(a={}));const s={columnCount:1,initialDisplayedRowsNumber:6,rowDisplayStep:8},d={columnCount:2,initialDisplayedRowsNumber:6,rowDisplayStep:9};i.ONE_COLUMN,i.ONE_COLUMN_BIG,i.TWO_COLUMNS,i.TWO_COLUMNS_BIG,i.THREE_COLUMNS;function c(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}const l=function(e){return void 0===e&&(e="item"),`${e}_${Math.random()*Date.now()}`},u=()=>l("FeedItemUniqId"),p=e=>{const{originalContext:t,onAssert:r,onError:n}=e,i=[];return{deepen:(e,t)=>{i.push(e);const r=t();return i.pop(),r},assert:(e,t,n)=>{e||r({path:i,expected:t,got:n})},isPartialObject:(null==t?void 0:t.isPartialObject)||!1,onError:n}},m=e=>e,g=function(e){return void 0===e&&(e=()=>{}),t=>{let{path:r,expected:n,got:i}=t;return e(`at ${r.join(".")}: expected ${n}, got ${i}`)}},b=function(e,t,r,n){void 0===n&&(n=console.error);const i=g((e=>{n(`In context '${r}' ${e}`)}));try{return e(t,p({onAssert:i,onError:n}))}catch(e){const t=e instanceof Error?e:new Error(String(e));n(`In context '${r}' ${t.message}`)}return t},f=function(e,t,r,n){void 0===n&&(n=console.error);const i=g((e=>{throw new Error(`In context '${r}' ${e}`)}));return e(t,p({onAssert:i,onError:n}))},_=e=>"object"==typeof e&&!Array.isArray(e)&&null!==e,h=e=>e.replace(/[A-Z]/g,(e=>`_${e.toLowerCase()}`)),y=e=>{let{isSnakeCase:t,isOptional:r=!1}=e;return(e,n,i)=>{const o=t?h(e):e;return(t,a)=>{a.assert(_(t),"object",typeof t);const s=t[o];r?a.assert("boolean"==typeof s||void 0===s,`value of key '${o}' boolean or undefined`,typeof s):a.assert("boolean"==typeof s,`value of key '${o}' boolean`,typeof s);const d=s?n:i;return Object.assign(d(t,a),{[e]:Boolean(s)})}}},v=(y({isSnakeCase:!1,isOptional:!1}),y({isSnakeCase:!0,isOptional:!1}),y({isSnakeCase:!1,isOptional:!0}),y({isSnakeCase:!0,isOptional:!0})),I=e=>{let{isSnakeCase:t}=e;return(e,r)=>{const n=t?h(e):e,i=Object.keys(r).map((e=>`'${e}'`)).join(", ");return(e,t)=>{t.assert(_(e),"object",typeof e);const o=e[n];t.assert("string"==typeof o,`value of key '${n}' string`,typeof o),t.assert(o in r,`value of key '${n}' in [${i}]`,o);const a=r[o];return Object.assign(a(e,t),{[n]:o})}}},O=I({isSnakeCase:!1}),S=I({isSnakeCase:!0}),k=(e,t)=>(r,n)=>t(e(r,n)),w=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(e,r)=>Object.assign({},...t.map((t=>t(e,r))))},A=e=>(t,r)=>{r.assert(_(t),"object",typeof t);const n={};for(const i of Object.keys(e))n[i]=r.deepen(i,(()=>(0,e[i])(t[h(i)],r)));return n},P=e=>(t,r)=>(r.assert("object"==typeof t&&Array.isArray(t),"array",typeof t),t.map(((t,n)=>r.deepen(String(n),(()=>e(t,r)))))),T=e=>(t,r)=>C(e)(t,r),C=e=>(t,r)=>void 0===t?void 0:e(t,r),E=e=>(t,r)=>(r.assert(typeof t===e,e,typeof t),t),x=E("string"),D=E("number"),R=E("boolean"),B=(e,t)=>(t.assert(void 0!==e,"json","undefined"),e),L=e=>(t,r)=>(r.assert(t===e,`${typeof e} '${e}'`,`${typeof t} '${t}'`),e);r(3311);const N=e=>Object.keys(e),j=e=>{const t=N(e).filter((e=>isNaN(+String(e)))).map((t=>e[t])),r=t.map((e=>"string"==typeof e?`'${e}'`:e)).join(", ");return(e,n)=>(n.assert("string"==typeof e||"number"==typeof e,`one of [${r}]`,typeof e),n.assert(t.includes(e),`one of [${r}]`,`'${e}'`),e)},M=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=t.map((e=>`'${e}'`)).join(", ");return(e,r)=>(r.assert("string"==typeof e,"string union",typeof e),r.assert(t.includes(e),`one of [${n}]`,`'${e}'`),e)},U=e=>(t,r)=>{r.assert(_(t),"object",typeof t);const n={},i=r.isPartialObject?(a=r,Object.assign({},a,{isPartialObject:!1})):r,o=r.isPartialObject?C:m;var a;for(const a of Object.keys(e))n[a]=r.deepen(a,(()=>o(e[a])(t[a],i)));return n},V=e=>(t,r)=>{r.assert(_(t),"record",typeof t);const n={};for(const i of N(t))n[i]=r.deepen(`"${i}"`,(()=>e(t[i],r)));return n};function F(e){if(!e||!e[Symbol.iterator])throw new Error("Object.fromEntries() requires a single iterable argument");const t={};for(const[r,n]of e)t[r]=n;return t}const z=(e,t)=>({name:e,parser:t,serialize:e=>e}),H=()=>Object.assign({},z("boolean",R)),$=()=>Object.assign({},z("json",B)),q=e=>Object.assign({},z("number",D),{min:null==e?void 0:e.min}),G=e=>Object.assign({},z("string",x),{maxLength:null==e?void 0:e.maxLength}),W=function(){return Object.assign({},z("enum",M(...arguments)))},Y=e=>Object.assign({},e,{parser:T(e.parser),serialize:t=>void 0===t?void 0:e.serialize(t),optional:!0}),Z=e=>({name:"object",props:e,parser:U(F(Object.entries(e).map((e=>{let[t,r]=e;return[t,r.parser]})))),serialize:t=>F(Object.entries(e).map((e=>{let[r,n]=e;return[r,n.serialize(t[r])]})))}),J=e=>({name:"snakeCaseObject",props:e,parser:A(F(Object.entries(e).map((e=>{let[t,r]=e;return[t,r.parser]})))),serialize:t=>F(Object.entries(e).map((e=>{let[r,n]=e;return[h(r),n.serialize(t[r])]})))}),Q=e=>({name:"array",parser:P(e.parser),serialize:t=>t.map(e.serialize)}),K=e=>({name:"record",parser:(t,r)=>V(e.parser)(t,r),serialize:t=>F(Object.entries(t).map((t=>{let[r,n]=t;return[r,e.serialize(n)]})))}),X=K(G()),ee=X.parser,te=G(),re=te.parser,ne=K(Y($())),ie=ne.parser,oe=(J({bulkParams:te,statEvents:X,bulkData:Y(ne)}).parser,W("publisher","domain","user")),ae=oe.parser,se=W("subscribed","not_subscribed","blocked"),de=se.parser,ce=J({ratio_1x1:Y(G())}),le=J({strongestId:G(),id:G(),type:oe,status:se,title:G(),logo:G(),logoBackgroundColor:G(),feedLink:G(),subtitle:Y(G()),description:Y(G()),feedApiLink:G(),subscriptionForbidden:Y(H()),subscribers:Y(q()),redesignLogos:Y(ce),isVerified:H(),vacuumCounterId:Y(q()),metricaId:Y(q()),bulkParams:Y(G()),bulkData:Y(ne),statEvents:Y(X),freshChannelTitle:Y(G()),isMyChannel:Y(H()),publisherId:Y(G())}).parser,ue=k(U({dspId:D,session_id:x,container_id:T(x)}),(e=>0!==Object.keys(e).length?{dspId:e.dspId,sessionId:e.session_id,containerId:e.container_id}:void 0)),pe=A({domElemId:x,bulkParams:x,bulkData:T(ie),statEvents:ee,pixelsData:T(ue)}),me=O("type",{direct:w(pe,A({type:L("direct"),blockId:x,partnerStatId:T(x),isBig:T(R),data:T(B)})),mytarget:w(pe,A({type:L("mytarget"),slotId:T(x),isJsonRequest:T(R)}))}),ge=M("promo","special"),be=A({type:ge,text:x}),fe=A({isLiked:R,isDisliked:R}),_e=e=>e?e.isLiked?"liked":e.isDisliked?"disliked":null:null,he=U({id:x,type:x,text:x,stats:U({statEvents:T(ee),bulkParams:x,bulkData:T(ie)})}),ye=U({type:L("extended_dislike_feedback"),displayType:L("ask_on_dislike"),id:x,text:x,answers:P(he)}),ve=A({id:x,type:x,text:x}),Ie=O("type",{extended_dislike_feedback:ye,zoloka_interest_feedback:A({type:L("zoloka_interest_feedback"),displayType:L("ask_on_click"),id:x,text:x,answers:P(ve)})}),Oe=A({questions:P(Ie)}),Se=e=>Object.keys(e).map((t=>e[t])),ke=A({channelInfoSubscribed:x,channelInfoUnsubscribed:x}),we=M("interest","new_subscription","subscribed","turbo"),Ae=A({type:T(we),b:T(x),w:T(x)});let Pe;!function(e){e.trend="trend",e.subject="subject",e.none="none",e.alice_found="alice_found",e.alice_similar_recommend="alice_similar_recommend",e.visibility_type="visibility_type",e.is_pinned="is_pinned"}(Pe||(Pe={}));const Te=M(...Se(Pe)),Ce=A({text:T(x),isBold:T(R),link:T(x)}),Ee=A({type:T(Te),title:T(x),subtitle:T(x)}),xe=A({type:T(Te),parts:T(P(Ce)),link:T(x),feedApiLink:T(x),feedLink:T(x)}),De=U({recommendations_channels:T(x)});let Re;!function(e){e.NOT_SAVED="not_saved",e.SAVED="saved",e.SAVE_ERROR="save_error",e.REMOVE_ERROR="remove_error"}(Re||(Re={}));const Be=U({link:T(x),icon:T(x),title:x,subtitle:T(x)}),Le=U({type:x,enable:Be,disable:T(Be)}),Ne=A({briefExpand:T(P(x)),videoRatingView:T(P(x))}),je=A({id:x,pos:T(D),type:x,itemType:T(x),bulkParams:x,bulkData:T(ie),statEvents:T(ee)}),Me=T(A({repostUrl:T(x)})),Ue=w(je,A({source:le,isPinned:T(R),link:x,shareLink:T(x),domainTitle:x,customUserFeedbackData:T(Oe),badges:T(P(be)),zenLogo:T(Ae),promoLabel:T(ke),rtbLabel:T(Ee),recommendLabel:T(Ee),richRecommendLabel:T(xe),feedbackInfo:T(fe),creationTime:T(x),publicationDate:T(x),views:T(D),read:T(R),bidFloor:T(D),requireUserData:T(R),more:T(De),covid19:T(R),isPromoPublication:T(R),menu:T(P(Le)),publicationPixels:T(Ne),publicationId:T(x),isSavedToBookmarks:T(R),sharingMenu:Me})),Ve=w(Ue,A({ad:T(me)})),Fe=Ue,ze=A({commentsDocumentId:x,allCommentsLink:x,publisherId:x,channelOwnerUid:D}),He=U({commentCount:T(D),commentsEnabled:T(R),likesCount:T(D),avatarUrls:T(P(x))}),$e=k(U({socialInfo:T(He)}),(e=>{if(e.socialInfo){const{commentCount:t,commentsEnabled:r,likesCount:n,avatarUrls:i}=e.socialInfo;return{socialInfo:{commentCount:t,commentsEnabled:r,likeCount:n,likesCount:n,commentatorAvatars:i}}}return e})),qe=A({logo:x,framedLogo:T(x),logoSizes:V(x),logoBackgroundColor:x}),Ge=A({id:x,type:L("suite"),name:x,description:T(x),image:T(qe),feedLink:T(x),feedShareLink:T(x),feedApiLink:T(x),publicationsCount:D,bulkParams:T(re),bulkData:T(ie),source:T(le),ogImage:T(x)}),We=(A({items:P(Ge),allSuiteLink:x,addSuiteLink:T(x),more:T(x)}),A({suiteId:x})),Ye=A({suites:T(P(We))}),Ze=A({type:L("text"),data:x}),Je=U({type:L("tag"),name:x,attribs:V(x),children:P((e=>{let t;return(r,n)=>{var i;return t=null!=(i=t)?i:e(),t(r,n)}})((()=>Qe)))}),Qe=O("type",{tag:Je,text:Ze}),Ke=U({length:T(D),json:P(Qe)}),Xe=e=>{let{json:t,mentions:r}=e;const n=(e=>{const t=Object.create(null);return e&&e.length?e.reduce(((e,t)=>(t.publisherId&&(e[t.publisherId]=t),e)),t):t})(r);let i=0;const o=()=>""+i++,a=e=>e.reduce(((e,t)=>("text"===t.type&&""!==t.data&&e.push({type:"text",data:t.data,key:o()}),e)),[]),s=t.reduce(((e,t)=>{"tag"===t.type&&"br"===t.name&&(0===e.currentP.length?e.res.push({type:"space",children:[],key:o()}):(e.res.push({type:"p",children:e.currentP,key:o()}),e.res.push({type:"newline",children:[],key:o()})),e.currentP=[]);const r="tag"===t.type&&"a"===t.name;if(r&&"tag-with-mention"===t.attribs.type){const{publisherId:r}=t.attribs,i=r?n[r]:void 0;return null!=i&&i.feedLink?e.currentP.push({type:"mention",href:i.feedLink,children:a(t.children),key:o()}):e.currentP.push(...a(t.children)),e}return r&&e.currentP.push({type:"link",href:t.attribs.href,children:a(t.children),key:o()}),e.currentP.push(...a([t])),e}),{res:[],currentP:[]});return s.currentP.length&&s.res.push({type:"p",children:s.currentP,key:o()}),s.res},et=A({id:T(x),itemType:T(x),cardType:T(x),pos:T(D),source:T(A({id:x,type:x,status:x,isVerified:R})),publisherId:T(x),publicationObjectId:T(x),bulkData:T(ie),video:T(A({isShortVideo:R}))}),tt=e=>b(et,e,`prepareStatData id=${null==e?void 0:e.id} type=${null==e?void 0:e.type}`),rt=A({width:D,height:D,link:x,preview:T(x),blurredLink:T(x)}),nt=A({type:L("image"),image:rt,viewerImage:T(rt),mainColor:x,richText:T(Ke),stubImage:T(x),isGifStub:T(R),isVideoNotConvertedStub:T(R)}),it=["id","items","promoLabel","richText","zenLogo","feedbackInfo"],ot=O("type",{image:nt}),at=k(w(Ve,ze,$e,Ye,A({items:P(ot),richText:T(Ke),publicationObjectId:T(x)}),k(et,(e=>({statData:e})))),(e=>{const{id:t,items:r,promoLabel:n,richText:i,zenLogo:a,feedbackInfo:s}=e,d=c(e,it),l=r.map((e=>st(e))),p=dt(i),m=_e(s);return Object.assign({},d,{feedback:m,galleryItems:l,galleryText:p,id:t,labelIcon:a,labelText:n,hasBadText:!1,source:Object.assign({},d.source,{bulkParams:d.bulkParams}),feedItemUniqId:u(),type:o.GALLERY,receiveTime:Date.now(),pos:e.pos||0})})),st=e=>Object.assign({},e,{hasBadImage:!1,hasBadText:!1,galleryText:dt(e.richText)}),dt=e=>e?Xe({json:e.json,mentions:void 0}):void 0,ct=["video_content_id","partner_stat_id"],lt=U({vcid:x,stream:x,width:D,height:D}),ut=e=>f(lt,e,"video.tsx"),pt=k(U({duration:T(D),from:x,partner_stat_id:T(x),puid:T(x),video_content_id:T(x),from_block:T(x),strongest_id:T(x),item_id:T(x),stream_block:T(x),rid:T(x),ppi:T(x)}),(e=>{let{video_content_id:t,partner_stat_id:r}=e,n=c(e,ct);return Object.assign({"video-content-id":t,"partner-stat-id":r},n)})),mt=U({js:U({load:P(x),preload:P(x)}),css:U({load:P(x),preload:P(x)})}),gt=(U({version:x,player:mt,playerAbd:mt,playerSkin:mt,vhPlayer:mt,vhPlayerJs:mt,flags:T(x),slots:T(x)}),U({bitrate:D,height:D,width:D,url:x})),bt=(P(gt),A({text:x,mongoId:x,channelApiUrl:x,feedLink:T(x),source:(ft=le,(e,t)=>{return ft(e,(r=t,Object.assign({},r,{isPartialObject:!0})));var r})}));var ft;const _t=A({scheduledTimeInfo:T(A({scheduledTime:T(x),serverTime:T(x)}))}),ht=(w(_t,A({video:A({videoInfo:A({videoContentId:x}),id:T(x)})})),["text","badges","image","source","feedbackInfo","promoLabel","zenLogo","heartbeatPos"]),yt=A({scheduledTime:T(D),serverTime:T(D)}),vt=k(w(Ve,ze,$e,A({title:x,text:T(x),mainColor:T(x),image:T(x),blurredPreview:T(x),width:T(D),height:T(D),additionalParams:pt,videoInfo:A({videoContentId:x}),heartbeatPos:P(D),mentions:T(P(bt)),donateUrl:T(x),noIndex:T(R),redesign_images:T(A({ratio_16x9:x})),isLiveFinished:T(R),isDelayedLiveCancelled:T(R),receiveTime:T(D),scheduledTimeInfo:T(yt)})),(e=>{var t;const{text:r="",badges:n=[],image:i,source:a,feedbackInfo:s,promoLabel:d,zenLogo:l,heartbeatPos:u}=e,p=c(e,ht),m=(null==(t=p.redesign_images)?void 0:t.ratio_16x9)||i,g=_e(s);return Object.assign({},p,{badges:n,image:i,text:r,smallImage_16x9:m,feedback:g,source:Object.assign({},a,{bulkParams:p.bulkParams||""}),heartbeatTimes:u,labelText:d,labelIcon:l,type:o.LIVE})})),It=k(w(vt,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{read:Boolean(e.read),feedItemUniqId:u(),type:o.LIVE,receiveTime:Date.now(),pos:e.pos||0}))),Ot=k(w(je,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.LIVE_RUN_OUT,id:e.id||l(o.LIVE_RUN_OUT),receiveTime:Date.now(),pos:e.pos||0}))),St=["origSize"];let kt;!function(e){e.zenBrief="zen_brief",e.zenLogos="zen-logos",e.zenNarrativeSlides="zen-narrative-slides",e.zenPersonal="zen-personal",e.zenPubOg="zen-pub-og",e.zenQr="zen-qr",e.zenBriefEmbed="zen_brief_embed",e.zenGallery="zen_gallery",e.zenPictures="zen_pictures",e.zenSocial="zen_social",e.zenComments="zen_comments",e.zenDoc="zen_doc",e.zenVh="zen-vh",e.unknown="unknown"}(kt||(kt={}));const wt=k(A({id:T(x),namespace:j(kt),preview:T(x),wasRotated:T(R),height:D,width:D,origSize:A({width:D,height:D}),meta:A({mainColor:x,origFormat:T(x)}),urlTemplate:x,sizeName:x,blurredLink:T(x),link:T(x),isAdult:T(R)}),(e=>{if(!e.wasRotated)return e;const{origSize:{width:t,height:r}}=e,n=c(e,St);return Object.assign({},n,{wasRotated:!1,origSize:{width:r,height:t}})})),At=A({type:L("image"),image:wt,viewerImage:T(wt),richText:T(Ke),stubImage:T(x),isGifStub:T(R),isVideoNotConvertedStub:T(R),mainColor:x}),Pt=Z({id:G(),namespace:(Tt=kt,Object.assign({},z("enum",j(Tt)))),preview:Y(G()),wasRotated:Y(H()),height:q(),width:q(),origSize:Z({width:q(),height:q()}),meta:Z({mainColor:G(),origFormat:Y(G())}),urlTemplate:G(),sizeName:G(),isAdult:Y(H())});var Tt;Z({type:(Ct="image",Object.assign({},z("literal",L(Ct)))),image:Pt,mainColor:G()});var Ct;const Et=function(e,t){void 0===t&&(t=console.error);const r=N(e);return(n,i)=>{const o=[];for(const a of r)try{const r=g((e=>{throw o.push(`${String(a)}: ${e}`),""}));return(0,e[a])(n,p({originalContext:i,onAssert:r,onError:t}))}catch(e){}return i.assert(0===o.length,`successful parsing by one of parsers: ${r.join(",")}`,`all failed: [\n\t${o.join(";\n\t")}\n]`),(0,e[r[0]])(n,p({originalContext:i,onAssert:()=>{},onError:t}))}},xt=A({link:x,preview:T(x),width:D,height:D,mainColor:T(x),blurredLink:T(x)}),Dt=Et({old:xt,new:wt}),Rt=e=>{const[,t,r]=e.match(/^[^/]+\/\/[^/]+\/get-([^/]+)\/[^/]+\/[^/]+\/([^/?&]+)/)||[],n=e.slice(0,e.lastIndexOf("/")+1),i=n&&t&&r?`${n}{size}`:e;return{namespace:t||kt.unknown,sizeName:r||"unknown_size_name",urlTemplate:i}},Bt=k(Dt,(e=>{if("urlTemplate"in e)return e;const{width:t,height:r,blurredLink:n,preview:i,mainColor:o}=e,{namespace:a,sizeName:s,urlTemplate:d}=Rt(e.link);return{namespace:a,sizeName:s,urlTemplate:d,width:t,height:r,origSize:{width:t,height:r},blurredLink:n,preview:i,meta:{mainColor:o||""},link:e.link}})),Lt=["video_content_id","partner_stat_id"],Nt=U({bitrate:D,height:D,width:D,url:x}),jt=P(Nt),Mt=A({videoContentId:T(x)}),Ut=k(U({duration:T(D),from:x,partner_stat_id:T(x),puid:T(x),video_content_id:T(x),from_block:T(x),strongest_id:T(x),item_id:T(x),stream_block:T(x),rid:T(x),ppi:T(x)}),(e=>{let{video_content_id:t,partner_stat_id:r}=e,n=c(e,Lt);return Object.assign({"video-content-id":t,"partner-stat-id":r},n)})),Vt=A({modalPlayInRollAdSec:T(D),modalInRollPlayingTimerSec:T(D),playerWithAdCountdown:T(R),playerSkipAllAdPods:T(R)}),Ft=A({pageId:T(x),categoryId:T(D),impId:T(D),adVideoConfigData:T(Vt),pixelsData:T(ue)}),zt=A({ad:T(Ft),additionalParams:T(Ut),autoplay:R,isShortVideo:T(R),duration:T(D),hasSound:R,heartbeatPos:T(P(D)),height:T(D),id:x,streams:T(P(x)),videoInfo:T(Mt),views:T(D),viewsFormatted:T(x),width:T(D),videoFeedUrl:T(x),viewedTime:T(D),viewedTimeView:T(D),firstFrames:T(jt),previews:T(V(x)),longPreviews:T(V(x))}),Ht=["ad","isShortVideo","width","height"],$t=["callToAction","expandDelay","expandType","feedbackInfo","image","commonImage","promoLabel","rtbLabel","recommendLabel","text","title","video","zenLogo","source","covid_19","isPromoPublication"];var qt;let Gt;!function(e){e.external="external",e.video="video",e.article="article",e.market="market",e.beru="beru"}(qt||(qt={})),function(e){e.None="none",e.Auto="auto",e.StopAndGo="stop_and_go",e.ClickToSite="click_to_site"}(Gt||(Gt={}));const Wt=A({bulkParams:T(x),bulkData:T(ie),id:T(x),pos:T(D),statEvents:T(ee),type:x}),Yt=U({ratio_1x1:T(x)}),Zt=A({feedApiLink:x,feedLink:x,logo:x,logoBackgroundColor:x,status:de,id:x,strongestId:x,subscriptionForbidden:T(R),title:x,description:T(x),isVerified:T(R),type:ae,redesignLogos:T(Yt),vacuumCounterId:T(D),metricaId:T(D)}),Jt=M("promo","special"),Qt=U({type:Jt,text:x}),Kt=A({source:T(Zt),text:T(x),title:T(x),creationTime:T(x),publicationDate:T(x),recommendReason:T(x),more:T(De)}),Xt=A({isLiked:R,isDisliked:R}),er=A({link:T(x),shareLink:T(x),read:T(R),feedbackInfo:T(Xt),badges:T(P(Qt)),commentsDocumentId:T(x),allCommentsLink:T(x),oneCommentLink:T(x),covid_19:T(R)}),tr=A({promoLabel:T(ke),rtbLabel:T(Ee),recommendLabel:T(Ee),richRecommendLabel:T(xe),zenLogo:T(Ae),isPromoPublication:T(R)}),rr=(A({pageId:T(x),categoryId:T(D),impId:T(D),adVideoConfigData:T(Vt)}),j(qt)),nr=A({buttonName:x,description:T(x),linkId:T(x),linkInfoUrl:T(x),logo:T(A({url:T(x),mainColor:x})),priceUrl:T(x),title:x,type:T(rr),urlType:T(x),url:x,videoCallToActionTimestamp:T(D)}),ir=j(Gt),or=A({link:T(P(x)),videoFullView:T(P(x)),videoExpand:T(P(x)),show:T(P(x))}),ar=A({design:T(x),imageLink:T(x),faviconLink:T(x),linkToOpen:x,linkToShow:x,title:T(x)}),sr=A({callToAction:T(nr),expandDelay:T(D),expandType:T(ir),stopAndGoExternalUrl:T(x),videoPixels:T(or),video:zt,channelOwnerUid:T(D),publisherId:T(x),publicationObjectId:T(x),flightId:T(x),swipeToSite:T(ar),adDisable:T(R),videoNotConvertedStub:T(L(!1))}),dr=A({type:L("video"),videoNotConvertedStub:L(!0),stubImage:T(x)}),cr=e=>{if(e)return Object.assign({},e,{logo:e.logo&&e.logo.url?{logoUrl:e.logo.url,mainColor:e.logo.mainColor}:void 0})},lr=e=>{var t;if(e)return{category:void 0!==e.categoryId?e.categoryId:1016,hasPreroll:!1,partnerId:e.pageId?parseInt(e.pageId,10):void 0,skipAllAdPods:null==(t=e.adVideoConfigData)?void 0:t.playerSkipAllAdPods}},ur=k(w(Wt,Kt,er,tr,sr,$e,A({commonImage:T(wt),image:Et({url:x,object:wt}),imageDesignV3:T(Bt),bigCardImage:T(x),blurredPreview:T(x)})),(e=>{var t;let r,{callToAction:n,expandDelay:i,expandType:o,feedbackInfo:a,image:s,commonImage:d,promoLabel:l,rtbLabel:u,recommendLabel:p,text:m="",title:g="",video:{ad:b,isShortVideo:f=!1,width:_=0,height:h=0}={},zenLogo:y,source:v,covid_19:I,isPromoPublication:O}=e,S=c(e.video,Ht),k=c(e,$t);if(d)r=d;else if("string"==typeof s){var w;const{namespace:e,sizeName:t,urlTemplate:n}=Rt(s);r={urlTemplate:n,width:_,height:h,meta:{mainColor:(null==(w=k.imageDesignV3)?void 0:w.meta.mainColor)||"transparent"},namespace:e,sizeName:t,origSize:{width:_,height:h},preview:void 0,link:s}}else r=s;const A={hasImage:!0,image:r},P=(e=>e?e.isLiked?"liked":e.isDisliked?"disliked":null:null)(a);return Object.assign({callToAction:cr(n),expandDelaySec:i||5,expandType:o||"none",feedback:P,labelIcon:y,labelText:l,rtbLabel:u||p,isPromoPublication:O,text:m,title:g,mainColor:(null==(t=k.imageDesignV3)?void 0:t.meta.mainColor)||"",video:Object.assign({width:_,height:h,adConfig:lr(b),isShortVideo:null!=f&&f},S),source:Object.assign({},v,{statEvents:k.statEvents,bulkParams:k.bulkParams,bulkData:k.bulkData}),covid19:I},A,k,{type:"video",videoNotConvertedStub:!1})})),pr=v("videoNotConvertedStub",dr,ur),mr=e=>Object.assign({},e,e.richText&&{richText:Xe({json:e.richText.json,mentions:void 0})}),gr=e=>(null==e?void 0:e.map(mr))||[],br=(O("type",{image:k(At,mr),video:pr}),A({width:D,height:D,mainColor:x,src:x})),fr=A({area:x,image:T(br),withPlus:T(R)}),_r=A({templateAreas:P(x),items:P(fr)});let hr,yr,vr;!function(e){e.single_choice="single_choice"}(hr||(hr={})),function(e){e.anonymous="anonymous"}(yr||(yr={})),function(e){e.success="success",e.failed="failed",e.notAuthorized="not_authorized"}(vr||(vr={}));const Ir=M(...Se(hr)),Or=M(...Se(yr)),Sr=M(...Se(vr)),kr=A({text:x,isCorrect:T(R)}),wr={answers:P(D),myAnswers:P(R),percentages:P(D),totalAnswers:D},Ar=A(Object.assign({},wr)),Pr=(A(Object.assign({},wr,{pollId:x})),{pollId:x,type:Ir,anonymityType:Or,title:x,items:P(kr)}),Tr=A(Object.assign({},Pr,{result:T(Ar),resultStatus:T(Sr)})),Cr=(U(Object.assign({},Pr)),O("type",{image:At,video:A({type:L("video"),image:wt,mainColor:x,richText:T(Ke),video:A({duration:D})})}));let Er;!function(e){e.brief="brief",e.gif="gif",e.native="native",e.live="live"}(Er||(Er={}));const xr=A({id:x,itemId:T(x),logo:wt,name:T(x),nickname:T(x),isVerified:R,url:x}),Dr=A({publicationObjectId:x,itemId:x,link:x,creationTime:x,source:xr,stats:A({bulkParams:x,bulkData:T(ie),statEvents:V(x)})}),Rr=A({items:P(Cr),richText:T(Ke),embed:T(A({src:x})),poll:T(Tr),gridMobile:T(_r),gridDesktop:T(_r)}),Br=A({title:x,video:T(A({isShortVideo:R,duration:T(D)})),image:T(wt)}),Lr=A({title:x,text:x,image:T(wt)}),Nr=A({title:x,text:x,image:T(wt)}),jr=w(Dr,A({itemType:L(Er.brief),content:Rr})),Mr=w(Dr,A({itemType:L(Er.native),content:Lr})),Ur=w(Dr,A({itemType:L(Er.gif),content:Br})),Vr=w(Dr,A({itemType:L(Er.live),content:Nr})),Fr=S("itemType",{[Er.brief]:jr,[Er.gif]:Ur,[Er.native]:Mr,[Er.live]:Vr}),zr={publisherId:x,publisherNickname:T(x),feedLink:T(x),feedApiLink:T(x)},Hr=A(zr),$r=(U(zr),O("type",{image:At,video:ur})),qr=["mainColor","main_color"];let Gr,Wr;!function(e){e.site="site",e.video="video",e.zen="zen"}(Gr||(Gr={})),function(e){e[e.site=0]="site",e[e.video=1]="video"}(Wr||(Wr={}));const Yr=k(U({src:x,width:D,height:D,main_color:T(x),mainColor:T(x)}),(e=>{let{mainColor:t,main_color:r}=e,n=c(e,qr);return Object.assign({},n,{mainColor:t||r||"transparent"})})),Zr=T(Et({new:wt,old:Yr})),Jr={src:x,title:x,imageId:T(x),image:T(Zr)},Qr=Object.assign({type:L(Gr.site),typeId:T(L(Wr.site)),host:x,isBig:R},Jr),Kr=Object.assign({type:L(Gr.video),typeId:T(L(Wr.video)),host:x,isBig:R},Jr),Xr=Object.assign({type:L(Gr.zen)},Jr,{publisherName:x,isPublisherVerified:R,publishDate:T(x),typeId:T(D),isBig:T(R)}),en=Et({camel:U(Qr),snake:A(Qr)}),tn=Et({camel:U(Kr),snake:A(Kr)}),rn=O("type",{[Gr.site]:en,[Gr.video]:tn}),nn=(O("type",{[Gr.site]:en,[Gr.video]:tn,[Gr.zen]:Et({camel:U(Xr),snake:A(Xr)})}),A({link:x,title:x})),on=A({items:T(P($r)),richText:T(Ke),embed:T(rn),repost:T(Fr),mentions:T(P(Hr)),poll:T(Tr),promoCallToAction:T(nn),publicationObjectId:T(x),itemType:x,type:x,modificationTime:T(x)}),an=w(Ve,ze,on,$e,A({heartbeatPos:P(D),bulkParamsForSnippet:x,menu:P(Le),gridMobile:T(_r),recDebugParams:T(x),promoGallery:T(B)}),Ye),sn=k(w(an,k(et,(e=>({statData:e})))),(e=>{const{items:t,richText:r,promoLabel:n,rtbLabel:i,recommendLabel:a,zenLogo:s,heartbeatPos:d,feedbackInfo:c,mentions:l,promoGallery:p}=e;return Object.assign({},e,{mentions:l,items:gr(t),text:r&&Xe({json:r.json,mentions:l}),labelText:n,labelIcon:s,rtbLabel:i||a,heartbeatPos:d||[],source:Object.assign({},e.source,{bulkParams:e.bulkParams}),feedback:_e(c),promoGallery:Boolean(p),feedItemUniqId:u(),type:o.BRIEF,receiveTime:Date.now(),pos:e.pos||0})})),dn=A({bulkParams:x,bulkData:T(ie),id:x,type:L("onboarding_interest"),domain:x,image:x}),cn=w(je,A({bulkParams:x,bulkData:T(ie),id:x,type:x,items:P(dn),header:U({title:x,subtitle:x}),footer:U({title:x,subtitle:x}),finishBlock:U({title:x,subtitle:x}),finishButton:A({placeholderText:x,submitText:x,bulkParams:x,bulkData:T(ie)}),changeInterestButton:A({text:x,bulkParams:x,bulkData:T(ie)}),likedInterests:P(x),eventsToSendOnShow:T(A({feedbackFavourite:P(x)}))})),ln=k(w(cn,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.ONBOARDING_INTEREST_LIST,id:e.id||l(o.ONBOARDING_INTEREST_LIST),receiveTime:Date.now(),pos:e.pos||0})));const un=e=>{const t=f(xt,e,"image-v3");return t.link?t:void 0},pn=e=>"number"==typeof e,mn=e=>"string"==typeof e,gn=e=>void 0===e,bn=e=>null!==e&&"object"==typeof e,fn=e=>mn(e)&&e.length>0,_n=e=>{let{strongest_id:t,public_id:r,type:n,status:i,name:o,title:a,logo:s,logo_sizes:d,framed_logo:c,header_background_image:l,header_background_video:u,logo_background_color:p,redesign_logos:m,feed_link:g,feed_share_link:b,feed_api_link:f,subtitle:_,description:h,subscribers:y,subscriptions:v,owner_subscriptions:I,publications_count:O,social_links:S,main_external_link:k,public_phones:w,public_emails:A,is_verified:P,is_nirvana:T,link:C,has_new_publications:E,subscription_forbidden:x,user_comments_count:D,authors_likes_count:R,subscribers_avatars:B,id_color:L,is_agree_to_share_data:N,terms_of_use:j,third_party_can_use:M,new_agreement:U,is_my_channel:V,is_empty_channel:F,is_business_channel:z,business_phone:H,publisher_id:$,vacuum_counter_id:q,metrica_id:G,recommendations_channels_link:W,owner_uid:Y,has_live:Z,viewer_image:J}=e;return{id:String(t),publicId:r,type:n,status:i,name:o,title:a,headerBackgroundImage:l?un(l):void 0,headerBackgroundVideo:u?ut(u):void 0,logo:s,subtitle:_,description:h,subscribers:y,subscriptions:v,ownerSubscriptions:I,publicationsCount:O,isVerified:P,isNirvana:T,framedLogo:c,logoSizes:(Q=d,Q?{framed_100x128_1x:Q.framed_100x128_1x,framed_132x176_1x:Q.framed_132x176_1x,framed_202x260_1x:Q.framed_202x260_1x,framed_212x280_1x:Q.framed_212x280_1x}:{}),logoBackgroundColor:p,redesignLogos:m,feedLink:g,feedShareLink:b,feedApiLink:f,socialLinks:yn(S),mainExternalLink:k,publicPhones:w,publicEmails:A,link:C,hasNewPublications:E,subscriptionForbidden:x,userCommentsCount:D,authorsLikesCount:R,subscribersAvatars:B,idColor:L,isAgreeToShareData:gn(N)||N,termsOfUse:j,thirdPartyCanUse:M,newAgreement:U,isMyChannel:V,isEmptyChannel:F,isBusinessChannel:z,businessPhone:H,publisherId:$,vacuumCounterId:q,metricaId:G,recommendationsChannelsLink:W,ownerUid:Y,hasLive:Z,viewerImage:J};var Q},hn=e=>{let{source:t,bulk_params:r}=e;return Object.assign({},_n(t),{bulkParams:t.bulk_params||r})},yn=e=>Array.isArray(e)?e.map((e=>{let{link:t,name:r,image:n,social_network:i}=e;return{link:t,name:r,image:n,network:i}})):[],vn=e=>bn(e)&&Boolean(e._isZenLoggerEventInfo),In=e=>bn(e)&&fn(e.stack),On=function(e,t){if(void 0===t&&(t=0),vn(e))return e;let r="",n=null,i=null,o=null,a=null;if(fn(e))r=e;else if(In(e)){if(o=e,vn(o._zenLoggerEventInfo))return o._zenLoggerEventInfo;r=o.message}else if(bn(e)){const t=e;r=t.message,n=t.details||null,i=t.context||null,a=t.cause||null}return fn(r)||(r="Unnamed event"),(e=>{if(!bn(e))return!1;try{return JSON.stringify(e),!0}catch(e){return!1}})(n)||(n=null),bn(i)||(e=>"function"==typeof e)(i)||(i=null),In(o)||(o=null),a?(a=t<10?On(a,t+1):null,a&&(r=`${r}: ${a.message}`)):a=null,{message:r,details:n,context:i,error:o,cause:a,_isZenLoggerEventInfo:!0}};class Sn extends Error{constructor(e){const t=On(e);super(t.message),fn(this.stack)||(Error.captureStackTrace?Error.captureStackTrace(this,Sn):this.stack=(new Error).stack),this.name=Sn.name,this.message=t.message,this._zenLoggerEventInfo=t,t.error=this}static extendError(e,t){const r=On(Object.assign({},t,{message:e.message}));e.message=r.message,e._zenLoggerEventInfo=r,r.error=e}}var kn=r(6653);const wn=e=>(e.bulk_params||console.error(new Sn({message:"Expect bulkParams in AdCard",details:{blockId:e.block_id,partnerStatId:e.partner_stat_id,isBig:e.is_big}})),{domElemId:e.dom_elem_id,partnerStatId:e.partner_stat_id,isBig:e.is_big,bulkParams:e.bulk_params,pixelsData:e.pixels_data}),An=e=>{if(e)return e.type===kn.AdPlatform.direct?(e=>Object.assign({type:kn.AdPlatform.direct,blockId:e.block_id,data:e.data,skipToken:e.skip_token,format:e.format},wn(e)))(e):e.type===kn.AdPlatform.myTarget?(e=>Object.assign({type:kn.AdPlatform.myTarget,slotId:e.slot_id,isJsonRequest:e.is_json_request},wn(e)))(e):void 0},Pn=e=>{let{feedback_info:t}=e;return t?t.is_liked?"liked":t.is_disliked?"disliked":null:null},Tn=A,Cn=U,En=P,xn=x,Dn=D,Rn=M,Bn=T,Ln=L,Nn=R,jn=Cn({title:xn}),Mn=Cn({like:Bn(jn),dislike:Bn(jn),click:Bn(jn)}),Un=e=>((e,t)=>f(e,t,""))(Mn,e),Vn=e=>{var t;return Object.assign({ad:An(e.ad),topAd:An(e.top_ad),bidFloor:e.bid_floor?Number(e.bid_floor):void 0,domainTitle:e.domain_title,link:e.link,shareLink:e.share_link,urlHash:e.url_hash,logo:e.logo,blurredPreview:e.blurred_preview,cardColors:e.card_colors&&{card:e.card_colors.card,text:e.card_colors.text},reactions:e.reactions?Un(e.reactions):void 0,mainColor:e.main_color,read:e.read,feedback:Pn(e),feedLink:null==(t=e.source)?void 0:t.feed_link,commentsDocumentId:e.comments_document_id,allCommentsLink:e.all_comments_link,oneCommentLink:e.one_comment_link,badges:e.badges},(e=>({id:e.id,title:e.title||"",text:e.text||"",bulkParams:e.bulk_params,source:_n(e.source),creationTime:e.creation_time,publicationDate:e.publication_date,views:e.views,actionTime:e.action_time,requireUserData:e.require_user_data,pos:e.pos,receiveTime:Date.now(),rtbLabel:e.rtb_label||e.recommend_label,richRecommendLabel:e.rich_recommend_label,recommendReason:e.recommend_reason,labelText:e.promo_label&&{channelInfoSubscribed:e.promo_label.channel_info_subscribed,channelInfoUnsubscribed:e.promo_label.channel_info_unsubscribed}}))(e))},Fn=e=>{var t;return e.image&&e.big_card_image,Object.assign({image:e.image,bigImage:e.big_card_image||e.image,width:e.width,height:e.height,smallImage_16x9:(null==(t=e.redesign_images)?void 0:t.ratio_16x9)||e.image},Vn(e))};let zn;!function(e){e[e.YOUTUBE=1]="YOUTUBE",e[e.TELEGRAM=2]="TELEGRAM",e[e.TIKTOK=3]="TIKTOK",e[e.INSTAGRAM=4]="INSTAGRAM"}(zn||(zn={}));const Hn=e=>{let{page_id:t,category_id:r,ad_video_config_data:n}=e;return{partnerId:t?parseInt(t,10):void 0,category:void 0!==r?r:1016,skipAllAdPods:null==n?void 0:n.playerSkipAllAdPods,hasPreroll:!1}},$n=e=>{let{pixels_data:t}=e;if(t)return t},qn=e=>{let{has_sound:t,heartbeat_pos:r,first_frames:n,id:i,streams:o,loop:a,player:s,provider:d,userAgent:c,video_info:l,music_info:u,additional_params:p,replay_count:m=2,autoplay:g,width:b,isShortVideo:_,height:h,duration:y,ad:v,views:I,views_formatted:O,viewed_time:S,video_feed_url:k,previews:w,long_previews:A}=e;return{hasSound:t,streams:o,heartbeatTimes:r,id:i,loop:a,player:s,isShortVideo:_,provider:d,userAgent:c,videoInfo:l?ri(l):{},musicInfo:u?ni(u):{},additionalParams:f(pt,p,"parseVideo"),autoplay:g,firstFrames:n,replayCount:m,width:b,height:h,duration:y,adConfig:v&&Hn(v),views:I,viewsFormatted:O,viewedTime:S,videoFeedUrl:k,previews:w,longPreviews:A,adPixelData:v&&$n(v)}};let Gn;!function(e){e.external="external",e.video="video",e.article="article",e.market="market",e.beru="beru"}(Gn||(Gn={}));const Wn=e=>{if(e)return{link:e.link,videoFullView:e.video_full_view,videoExpand:e.video_expand,show:e.show}},Yn=e=>{if(!e)return;const{button_name:t,description:r,logo:n,title:i,url:o,url_type:a,type:s,price_url:d,link_info_url:c,market_model_id:l,video_call_to_action_timestamp:u,link_id:p}=e;return{buttonName:t,description:r,logo:n?{logoUrl:n.url,mainColor:n.main_color}:void 0,title:i,url:o,urlType:a,type:s,priceUrl:d,appearanceTime:u,linkInfoUrl:c,marketModelId:l,linkId:p}},Zn=e=>{const t={from_block:e.fromBlock,video_content_id:e.videoContentId,strongest_id:e.strongestId,item_id:e.itemId,stream_block:e.streamBlock,from:e.from,ppi:e.ppi,rid:e.rid,puid:e.puid};return e.duration&&(t.duration=e.duration),e.partnerStatId&&(t.partner_stat_id=e.partnerStatId),f(pt,t,"parseVideo")},Jn=e=>{const t={page_id:e.pageId,category_id:e.categoryId,ad_video_config:e.adVideoConfigData};return Hn(t)},Qn=e=>{var t;return null==(t=e.SingleStream[0])?void 0:t.PreviewTargetWidthToUrl},Kn=e=>{if(e.SingleStream[0]&&e.SingleStream[0].FirstFrameUrlPrefix){const t=e.SingleStream[0].FirstFrameUrlPrefix,r=[1920];return[1080].map(((e,n)=>{const i=r[n];return{bitrate:0,height:i,width:e,url:`${t}/${e}x${i}`}}))}return[]},Xn=e=>{const t=(e=>{var t;return((null==(t=e.SingleStream[0])?void 0:t.StreamInfo)||[]).map((e=>e.OutputStream))})(e.rawStreams);0===t.length&&console.error("Empty playlist streams");const r=t.length?t:e.video.id?[e.video.id]:[];return Object.assign({},e.video,{streams:r,previews:Qn(e.rawStreams),firstFrames:Kn(e.rawStreams),heartbeatTimes:e.video.heartbeatPos,additionalParams:Zn(e.video.additionalParams),adConfig:e.video.ad&&Jn(e.video.ad),adPixelData:e.video.ad&&e.video.ad.pixelsData})},ei=e=>{e.image&&!e.big_card_image&&console.warn("no big_card_image",e);const t=function(e){if(e)return Object.keys(e).reduce(((t,r)=>{const{bulk_params:n,links:i}=e[r];return Object.assign({},t,{[r]:{bulkParams:n,links:i}})}),{})}(e.stat_params),r=Array.isArray(e.mentions)?e.mentions.map((e=>b(bt,e,"parseBaseVideo"))):void 0;return Object.assign({feedItemUniqId:u(),video:qn(e.video),stats:e.stats,channelOwnerUid:parseInt(e.channel_owner_uid,10),publisherId:e.publisher_id,publicationId:e.publication_id,videoPixels:Wn(e.video_pixels),hasDescription:void 0===e.has_description||e.has_description,description:e.description,hasTags:void 0===e.has_tags||e.has_tags,callToAction:Yn(e.call_to_action),statParams:t,subscribeTriggerEvent:e.subscribeTriggerEvent||"click",flightId:e.flight_id},Fn(e),{hasCallToAction:Boolean(e.call_to_action),creationTime:e.creation_time,metricaId:e.metrica_id,covid19:e.covid_19,socialInfo:ti(e.socialInfo),isPinned:e.is_pinned,mentions:r,adDisable:e.ad_disable,menu:e.menu,isSavedToBookmarks:e.is_saved_to_bookmarks})},ti=e=>e?{commentCount:e.commentCount,commentsEnabled:e.commentsEnabled,likeCount:e.likesCount,commentatorAvatars:e.avatarUrls}:void 0,ri=e=>{const{video_content_id:t}=e;return{videoContentId:t}},ni=e=>{const{is_banned:t,author:r,title:n,type:i}=e;return{author:r,title:n,type:i,isBanned:t}},ii=["ad","isShortVideo"],oi=["bigCardImage","blurredPreview","callToAction","feedbackInfo","image","promoLabel","rtbLabel","recommendLabel","text","title","video","zenLogo","source","isPromoPublication","read"],ai=j(Gn),si=A({buttonName:x,description:T(x),linkId:T(x),linkInfoUrl:T(x),logo:T(U({url:T(x),mainColor:x})),priceUrl:T(x),title:x,type:T(ai),urlType:T(x),url:x,videoCallToActionTimestamp:T(D)}),di=A({link:T(P(x)),videoFullView:T(P(x)),videoExpand:T(P(x)),show:T(P(x))}),ci=e=>{if(e)return Object.assign({},e,{logo:e.logo&&e.logo.url?{logoUrl:e.logo.url,mainColor:e.logo.mainColor}:void 0})},li=e=>{var t;if(e)return{category:void 0!==e.categoryId?e.categoryId:1016,hasPreroll:!1,partnerId:e.pageId?parseInt(e.pageId,10):void 0,skipAllAdPods:null==e||null==(t=e.adVideoConfigData)?void 0:t.playerSkipAllAdPods}},ui=U({ratio_16x9_big:T(x),ratio_16x9:T(x),ratio_4x3:T(x),ratio_4x5:T(x),ratio_7x4:T(x)}),pi=k(w(Ve,ze,$e,Ye,A({publicationObjectId:T(x),callToAction:T(si),videoPixels:T(di),video:zt,flightId:T(x),adDisable:T(R),text:T(x),title:T(x),description:T(x),hasDescription:T(R),hasTags:T(R),recommendReason:T(x),mentions:T(P(bt)),image:x,bigCardImage:T(x),blurredPreview:T(x),sharingMenu:Me,redesignImages:T(ui),mainColor:T(x),width:T(D),height:T(D),metricaId:T(D),isDeleted:T(R)}),k(et,(e=>({statData:e})))),(e=>{var t;const{bigCardImage:r,blurredPreview:n="",callToAction:i,feedbackInfo:o,image:a,promoLabel:s,rtbLabel:d,recommendLabel:l,text:p="",title:m="",video:{ad:g,isShortVideo:b},zenLogo:f,source:_,isPromoPublication:h,read:y}=e,v=c(e.video,ii),I=c(e,oi),O=_e(o);return Object.assign({callToAction:ci(i),hasCallToAction:Boolean(i),feedback:O,labelIcon:f,labelText:s,rtbLabel:d||l,recommendLabel:l,isPromoPublication:h,text:p,title:m,read:Boolean(y),smallImage_16x9:(null==(t=I.redesignImages)?void 0:t.ratio_16x9)||a,video:Object.assign({ad:g,adConfig:li(g),isShortVideo:null!=b&&b},v),source:Object.assign({},_,{bulkParams:I.bulkParams}),hasImage:!0,image:a,bigImage:r||a,blurredPreview:n},I,{feedItemUniqId:u(),receiveTime:Date.now(),pos:I.pos||0})})),mi=(M("publisher","domain"),M("subscribed","not_subscribed","blocked"),Tn({bulkParams:xn,id:xn,pos:Dn,type:xn,is_favorited:Nn})),gi=k(w(mi,U({items:P(pi)}),k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{type:o.SHORT_VIDEO_CAROUSEL,feedItemUniqId:u()}))),bi=A({id:x,type:L("message"),title:x,autoCloseTimeout:T(D),bulkParams:x,bulkData:T(ie)}),fi=P(U({image:U({link:x})})),_i=A({type:M("card","gif","short_video","gallery","brief","small_card"),title:T(x),source:le,bulkParams:x,link:x,image:T(x),mentions:T(P(Hr)),text:T(x),richText:T(Ke),publicationDate:T(x),creationTime:T(x),items:T(fi),itemType:T(x),video:T(zt),mainColor:T(x),blurredPreview:T(x)}),hi=Tn({id:xn,imageSrc:Bn(xn),imageActiveSrc:Bn(xn),nextScreenId:Bn(xn)}),yi=Tn({text:xn,nextScreenId:Bn(xn)}),vi=Tn({id:xn,type:Ln("gradation_stars"),title:xn,subtitle:Bn(xn),answers:En(hi),skipButton:Bn(yi),publication:Bn(_i),bulkParams:xn,bulkData:Bn(ie)}),Ii=Tn({id:xn,title:xn,imageSrc:xn,nextScreenId:Bn(xn)}),Oi=Tn({id:xn,type:Ln("single_choice_image"),title:xn,subtitle:Bn(xn),answers:En(Ii),publication:Bn(_i),bulkParams:xn,bulkData:Bn(ie)}),Si=A({id:x,title:x,nextScreenId:T(x)}),ki=A({id:x,type:L("radio_choice_text"),title:x,subtitle:T(x),answers:P(Si),publication:T(_i),bulkParams:x,bulkData:T(ie)}),wi=Tn({id:xn,title:xn}),Ai=Tn({text:xn,nextScreenId:Bn(xn)}),Pi=Tn({id:xn,type:Ln("multi_choice_text"),title:xn,answers:En(wi),minAnswersError:xn,minAnswersCount:Dn,submitButton:Ai,publication:Bn(_i),bulkParams:xn,bulkData:Bn(ie)}),Ti=Tn({id:xn,imageSrc:Bn(xn),imageActiveSrc:Bn(xn),nextScreenId:Bn(xn),title:xn}),Ci=O("type",{message:bi,gradation_stars:vi,single_choice_image:Oi,radio_choice_text:ki,multi_choice_text:Pi,gradation_choice_image:Tn({id:xn,type:Ln("gradation_choice_image"),title:xn,subtitle:Bn(xn),answers:En(Ti),bulkParams:xn,minAnswerTitle:xn,maxAnswerTitle:xn,defaultAnswerId:xn,bulkData:Bn(ie)})}),Ei=A({eventName:x,itemId:T(x),count:D}),xi=A({itemId:x,offset:D}),Di=A({showOnPosition:D,screenMap:V(Ci),initialScreenId:x,eventConditionsShow:T(P(Ei)),itemBasedPosition:T(xi)}),Ri=A({screens:V(Ci),initialScreenId:x,bulkParams:x,type:Rn(o.INTERVIEW),pos:D}),Bi=k(w(Ri,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{id:l("fake-interview-item-id"),currentScreenId:e.initialScreenId,type:o.INTERVIEW,receiveTime:Date.now(),pos:e.pos,feedItemUniqId:u()})));let Li,Ni;!function(e){e.LIST="list",e.CAROUSEL="carousel",e.ONBOARDING="onboarding",e.PROMO_PUBLISHERS="promo_publishers",e.PROMO_PUBLICATIONS="promo_publications"}(Li||(Li={})),function(e){e.BANNER="banner_list",e.PUBLICATIONS="publication_list",e.REPOST="showcase_repost",e.PUBLISHERS="publisher_list",e.PROMO_PUBLICATIONS_CAROUSEL="promo_publications_carousel",e.SHOWCASE_SEARCH_RECENTS_HEADER="showcase_search_recents_header",e.SHOWCASE_SEARCH_RECENT="showcase_search_recent"}(Ni||(Ni={}));const ji=["items"];let Mi;!function(e){e.article="showcase_article",e.brief="showcase_brief",e.video="showcase_video"}(Mi||(Mi={}));const Ui=A({itemType:L("gif")}),Vi=A({id:x,itemType:x,title:x,link:x,source:le,bulkParams:re,bulkData:T(ie),statEvents:ee,text:x,creationTime:x,layoutType:T(j(Li)),image:x,video:B}),Fi=w(Vi,Ui),zi=A({id:x,source:le,statEvents:ee,bulkParams:re,bulkData:T(ie),itemType:L("native"),type:L("card"),image:x,title:x,text:x,creationTime:x,link:x}),Hi=A({id:x,source:le,statEvents:ee,bulkParams:re,bulkData:T(ie),itemType:L("brief"),creationTime:x,richText:T(Ke),items:P(Cr),type:L("brief"),link:x}),$i=A({itemType:L(Mi.article),statEvents:ee,contentType:L("publication"),item:zi}),qi=A({itemType:L(Mi.video),statEvents:ee,contentType:L("publication"),viewsNumber:T(x),gif:x,item:Fi}),Gi=A({itemType:L(Mi.brief),statEvents:ee,contentType:L("publication"),gif:T(x),item:Hi}),Wi=O("item_type",{[Mi.article]:$i,[Mi.brief]:Gi,[Mi.video]:qi}),Yi=A({id:x,type:L("plain_card"),itemType:L("publication_list"),title:x,subtitle:x,description:x,isLastBlock:R,statEvents:ee,bulkParams:re,bulkData:T(ie),image:x,source:T(le),layoutType:j(Li),items:B}),Zi=k(Yi,(e=>{let{items:t}=e,r=c(e,ji);const n=r.title;if(!Array.isArray(t))return Object.assign({},r,{items:[]});const i=[];return t.forEach((e=>{var t;const r=(e=>{let{item:t,idx:r,blockName:n}=e;try{return f(Wi,t,`Витрина [Контент] "${r}" в подборке "${n}"`)}catch(e){return console.error(`Витрина [Контент] "${r}" в подборке "${n}": ${e}`),null}})({item:e,idx:null==e||null==(t=e.item)?void 0:t.id,blockName:n});r&&i.push(r)})),Object.assign({},r,{items:i})})),Ji=A({id:x,itemType:L("showcase_banner"),aspectRatio:D,preview:T(x),image:x,url:x}),Qi=A({type:L("plain_card"),itemType:L("banner_list"),id:x,bulkParams:re,bulkData:T(ie),statEvents:T(ee),cardType:T(x),items:P(Ji)}),Ki=["items"],Xi=L("plain_card"),eo=A({redactorDescription:x,statEvents:ee,bulkParams:re,bulkData:T(ie),redactorLogos:P(x),source:le,contentType:L("source")}),to=k(A({id:x,type:Xi,itemType:L("publisher_list"),title:x,subtitle:x,description:x,isLastBlock:R,statEvents:ee,bulkParams:re,bulkData:T(ie),image:x,layoutType:j(Li),source:T(le),items:B}),(e=>{let{items:t}=e,r=c(e,Ki);const n=r.title;if(!Array.isArray(t))return Object.assign({},r,{items:[]});const i=t.reduce(((e,t)=>{var r;const i=null==t||null==(r=t.source)?void 0:r.title;try{const r=b(eo,t,`Витрина [Блогер] "${i}" в подборке "${n}"`);e.push(r)}catch(e){console.error(`Витрина [Блогер] "${i}" в подборке "${n}": ${e}`)}return e}),[]);return Object.assign({},r,{items:i})})),ro=A({id:x,type:L("plain_card"),itemType:L(Ni.REPOST),title:x,description:x,statEvents:ee,bulkParams:re,bulkData:T(ie),source:T(le),layoutType:j(Li),repost:Fr}),no=A({id:x,bulkParams:x,bulkData:T(ie),statEvents:ee,type:L("plain_card"),itemType:M("showcase_search_recent","showcase_search_recents_header"),link:T(x),source:T(le)}),io=k(w(Qi,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.SHOWCASE_CARD,id:e.id||l(o.SHOWCASE_CARD),receiveTime:Date.now(),pos:0}))),oo=k(w(to,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.SHOWCASE_CARD,id:e.id||l(o.SHOWCASE_CARD),receiveTime:Date.now(),pos:0}))),ao=k(w(Zi,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.SHOWCASE_CARD,id:e.id||l(o.SHOWCASE_CARD),receiveTime:Date.now(),pos:0}))),so=k(w(ro,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.SHOWCASE_CARD,id:e.id||l(o.SHOWCASE_CARD),receiveTime:Date.now(),pos:0}))),co=k(w(no,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.SHOWCASE_CARD,id:e.id||l(o.SHOWCASE_CARD),receiveTime:Date.now(),pos:0,items:[]}))),lo=S("item_type",{[Ni.BANNER]:io,[Ni.PUBLISHERS]:oo,[Ni.REPOST]:so,[Ni.PUBLICATIONS]:ao,[Ni.SHOWCASE_SEARCH_RECENTS_HEADER]:co,[Ni.SHOWCASE_SEARCH_RECENT]:co}),uo=k(A({id:x,hiddenItems:P(B),linkMore:T(x),bulkParams:x,bulkData:T(ie),statEvents:ee,creationTime:T(x),pos:D}),(e=>{var t;const r=null==(t=e.hiddenItems)?void 0:t.map((e=>f(le,e.source,"Hidden items в карточке «Ещё из подписок»")));return Object.assign({},e,{sources:r})})),po=k(w(uo,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.SUBSCRIPTIONS_MORE,receiveTime:Date.now()}))),mo=A({unreadPostsCount:T(D),hasInteraction:T(R),source:le,hasLive:T(R)}),go=A({bulkParams:x,statEvents:ee,bulkData:T(ie),creationTime:T(x),items:P(mo),linkMore:T(x),isFreshFromSubscriptionsExists:T(R),type:x,title:T(x),pos:D}),bo=k(w(go,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.SUBSCRIPTIONS_HEADS,id:l(o.SUBSCRIPTIONS_HEADS),receiveTime:Date.now(),pos:e.pos}))),fo=A({source:le,statEvents:T(ee),bulkParams:x,bulkData:T(ie)});let _o;!function(e){e.RECOMMENDATION="recommendation",e.SUBSCRIPTION="subscription",e.SOFT_FAVOURITE="soft_favourite",e.RTB_RECOMMENDATION="rtb_recommendation",e.DOC2DOC_RECOMMENDATION="doc2doc_recommendation"}(_o||(_o={}));const ho=A({type:x,items:P(fo),title:x,subtitle:T(x),bulkParams:x,bulkData:T(ie),statEvents:T(ee),blockType:T(j(_o)),showcaseLink:T(x),isFromShowcase:T(R),shouldShowRefresh:T(R),isForChannelPage:T(R),moreLink:T(x),richRecommendLabel:T(xe)}),yo=k(w(ho,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.RECOMMENDATIONS_CHANNELS,id:l(o.RECOMMENDATIONS_CHANNELS),receiveTime:Date.now(),pos:0}))),vo=k(w(ho,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.PROMO_PUBLISHERS_CAROUSEL,id:l(o.PROMO_PUBLISHERS_CAROUSEL),receiveTime:Date.now(),pos:0})));function Io(e){return Object.assign({},e)}const Oo=Z({title:G(),alias:G(),id:q()}),So=Z({rubrics:Q(Oo)}),ko=(Io({name:"getRubricList",params:Z({regionId:q()}),req:async e=>{let{regionId:t}=e;return(await fetch(xo(`/news/api/v2/rubric_list?user_region=${t}`))).json()},res:So}),J({url:G(),title:G(),log:$(),agency:Z({name:G(),logo:Y(G())}),isHot:Y(H()),isFavorite:Y(H())})),wo=(Po=ko,To=J({extraStories:Y(Q(ko))}),{name:"intersection",props:Object.assign({},Po.props,To.props),parser:w(Po.parser,To.parser),serialize:e=>Object.assign({},Po.serialize(e),To.serialize(e))}),Ao=J({name:G(),url:G(),stories:Q(wo),alias:G()});var Po,To;const Co=J({expanded:H(),data:Q(Ao),favoriteRubric:Y(q()),formKey:Y(G()),nextTop:Y(G()),reqid:G()}),Eo=J({payload:Co,id:G(),bulkParams:G(),bulkData:Y(ne),itemType:G(),pos:q()}),xo=e=>e,Do=(Io({name:"getFreshNewsTop",params:G(),req:async e=>(await fetch((e=>{let t=e.replace("api/v3/tops_export","api/v2/tops_export");return t.startsWith("/news")||(t=`/news${t}`),t=xo(t),t})(e))).json(),res:Co}),Io({name:"saveFavouriteRubric",params:Z({set_favorite_rubric:G(),form_key:G()}),req:async e=>{let{set_favorite_rubric:t,form_key:r}=e;return(await fetch(xo("/news/api/v2/favorites"),{body:JSON.stringify({set_favorite_rubric:t,form_key:r}),method:"POST"})).status},res:q()}),k(w(Eo.parser,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.NEWS,id:l(o.NEWS),receiveTime:Date.now(),pos:e.pos})))),Ro=A({id:x,pos:T(D),type:L("search_publishers"),items:P(fo),bulkParams:x,bulkData:T(ie),statEvents:ee}),Bo=k(w(Ro,k(et,(e=>({statData:e})))),(e=>{const t=l(o.SEARCH_PUBLISHERS);return Object.assign({},e,{feedItemUniqId:u(),id:t,packId:t,type:o.SEARCH_PUBLISHERS,receiveTime:Date.now(),pos:e.pos||0})})),Lo=A({pos:D,id:T(x),ad:T(me),bidFloor:T(D)}),No=k(w(Lo,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.HIDDEN,id:e.id||l(o.HIDDEN),receiveTime:Date.now()})));let jo;!function(e){e.CAROUSEL="carousel",e.NATIVE_CAROUSEL="publisher_content_native_carousel",e.GIF_CAROUSEL="publisher_content_gif_carousel",e.SHORT_CAROUSEL="publisher_content_short_carousel"}(jo||(jo={}));const Mo=w(Vi,A({video:zt})),Uo=w(Mo,Ui),Vo=w(qi,A({item:Uo})),Fo=w($i,A({viewsNumber:T(x)})),zo=O("item_type",{[Mi.article]:Fo,[Mi.video]:Vo}),Ho=w(fo,A({items:T(P(zo))})),$o=w(ho,A({layoutType:T(j(jo)),items:P(Ho)})),qo=k(w($o,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.PROMO_PUBLICATIONS_CAROUSEL,id:l(o.PROMO_PUBLICATIONS_CAROUSEL),receiveTime:Date.now(),pos:0}))),Go=w(je,ze,A({title:x,additionalParams:T(Ut),heartbeatPos:T(P(D)),videoInfo:T(Mt),link:T(x),image:x,source:le})),Wo=w(je,A({title:T(x),subtitle:T(x),items:P(Go)})),Yo=k(w(Wo,k(et,(e=>({statData:e})))),(e=>{const t=e.id||l(o.LIVE_CAROUSEL);return Object.assign({},e,{id:t,feedItemUniqId:u(),type:o.LIVE_CAROUSEL,receiveTime:Date.now(),pos:e.pos||0})})),Zo={title:x,buttonText:x,buttonLink:x,isContrast:R,bulkParams:x,bulkData:T(ie),statEvents:T(ee),userIdentifier:T(x)},Jo=A(Zo),Qo=A(Object.assign({},Zo,{description:x,imageLink:x})),Ko=A({bulkParams:x,bulkData:T(ie),userIdentifier:T(x)}),Xo=A({bulkParams:x,bulkData:T(ie),userIdentifier:T(x)}),ea=k(w(Jo,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.AD_CAMPAIGN_CARD,id:l(o.AD_CAMPAIGN_CARD),receiveTime:Date.now(),pos:0}))),ta=k(w(Qo,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.AD_CAMPAIGN_BANNER,id:l(o.AD_CAMPAIGN_BANNER),receiveTime:Date.now(),pos:0}))),ra=k(w(Ko,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.AD_CAMPAIGN_COMPACT_BANNER,id:l(o.AD_CAMPAIGN_COMPACT_BANNER),receiveTime:Date.now(),pos:0}))),na=k(w(Xo,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.AD_CAMPAIGN_QR_BANNER,id:l(o.AD_CAMPAIGN_QR_BANNER),receiveTime:Date.now(),pos:0}))),ia=k(w(U({pos:T(D)}),k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.SUBSCRIPTIONS_NO_LOGIN,id:l(o.SUBSCRIPTIONS_NO_LOGIN),receiveTime:Date.now(),pos:0}))),oa=A({type:L("subscriptions_empty_card"),itemType:L("subscriptions_empty_card"),pos:T(D)}),aa=k(w(oa,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{id:l(o.SUBSCRIPTIONS_EMPTY_CARD),feedItemUniqId:u(),type:o.SUBSCRIPTIONS_EMPTY_CARD,pos:e.pos||0}))),sa=A({type:M("small_card"),title:T(x),source:le,bulkParams:x,link:x,image:T(x),itemType:M("native","gif"),video:T(zt),mainColor:T(x),blurredPreview:T(x)}),da=k(w(je,sa,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.SMALL_CARD,id:e.id||l(o.SMALL_CARD),pos:e.pos||0}))),ca=A({type:L("subscriptions_entry"),itemType:L("subscriptions_entry"),freshSubscriptionsCount:T(D),pos:T(D)}),la=k(w(ca,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),id:l(o.SUBSCRIPTIONS_ENTRY),type:o.SUBSCRIPTIONS_ENTRY,receiveTime:Date.now(),pos:e.pos||0}))),ua=k(w(U({pos:T(D)}),k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.SUBSCRIPTIONS_END,id:l(o.SUBSCRIPTIONS_END),receiveTime:Date.now(),pos:0}))),pa=A({type:L("subscriptions_recommendations"),itemType:L("publisher_list"),items:P(fo),bulkParams:T(x)}),ma=k(w(pa,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.SUBSCRIPTIONS_RECOMMENDATIONS,id:l(o.SUBSCRIPTIONS_RECOMMENDATIONS),receiveTime:Date.now(),pos:0}))),ga=k(pi,(e=>Object.assign({},e,{type:o.GIF,isDeleted:!1}))),ba=k(pi,(e=>Object.assign({},e,{type:o.SHORT_VIDEO}))),fa=k(w(A({type:x,title:x}),k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{id:l(o.HISTORY_DATE_SEPARATOR),pos:0,feedItemUniqId:u(),type:o.HISTORY_DATE_SEPARATOR,isDeleted:!1}))),_a=A({card:x,text:x}),ha=A({title:T(x),text:T(x),type:x,publisherId:x,publicationObjectId:T(x),actionTime:T(x),recommendReason:T(x)}),ya=A({urlHash:T(x),cardColors:T(_a),mainColor:T(x),read:R,reactions:T(U({click:T(U({title:x})),like:T(U({title:x})),dislike:T(U({title:x}))})),more:T(De)}),va=A({isPromoted:T(R),isPromoPublication:T(R),cardBackgroundImage:T(x),cardBackgroundWhiteImage:T(x),pixels:P(x),isSavedToBookmarks:T(R),itemType:T(x)}),Ia=U({ratio_16x9_big:T(x),ratio_16x9:T(x),ratio_4x3:T(x),ratio_4x5:T(x),ratio_7x4:T(x)}),Oa=w(ha,ya,va,Ye,A({commentsDocumentId:T(x),allCommentsLink:T(x),image:T(x),bigCardImage:T(x),blurredPreview:T(x),redesignImages:T(Ia),imageWidth:T(D),imageHeight:T(D)})),Sa=w(Oa,Ve,$e),ka=(w(Oa,Fe,A({imageDesignV3:T(xt),menu:T(P(Le)),recDebugParams:T(x)}),U({socialInfo:T(He)})),["feedbackInfo","zenLogo","promoLabel","image","imageWidth","imageHeight","bigCardImage","blurredPreview","text","title","badges","pos","redesignImages","source","id"]),wa=k(w(Sa,k(et,(e=>({statData:e})))),(e=>{const{feedbackInfo:t,zenLogo:r,promoLabel:n,image:i,imageWidth:a,imageHeight:s,bigCardImage:d,blurredPreview:p,text:m,title:g,badges:b,pos:f,redesignImages:_,source:h,id:y}=e,v=c(e,ka),I=i?{hasImage:!0,image:i,bigImage:d||i,blurredPreview:p||"",redesignImages:_,imageWidth:a,imageHeight:s}:{hasImage:!1},O=Boolean(r)&&!(null!=r&&r.type&&"turbo"!==r.type);r&&O&&(r.type="turbo");const S=_e(t);return Object.assign({},v,{feedItemUniqId:u(),type:o.CARD,id:y||l(o.CARD),receiveTime:Date.now(),labelIcon:r,labelText:n,feedback:S,text:m||"",title:g||"",badges:b||[],source:Object.assign({},h,{bulkParams:v.bulkParams})},I,{pos:f||0})})),Aa=A({id:x,itemType:M("gif","native"),title:x,source:le,link:x,bulkParams:x}),Pa=A({id:x,type:L("top_content_set"),items:P(Aa),itemType:M("top_content_set","top_sub_content_set"),headerText:x,pos:D}),Ta=k(w(Pa,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.TOP_CONTENT_SET,receiveTime:Date.now()}))),Ca=A({type:L("dzen_first_place")}),Ea=k(w(Ca,k(et,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.DZEN_FIRST_PLACE,id:l(o.DZEN_FIRST_PLACE),receiveTime:Date.now(),pos:0}))),xa=k(w(je,k(je,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:u(),type:o.PUBLISHERS_CHANNEL_SUBSCRIBE_CARD,id:l(o.PUBLISHERS_CHANNEL_SUBSCRIBE_CARD),receiveTime:Date.now(),pos:e.pos||0}))),Da=k(pi,(e=>Object.assign({},e,{type:o.LONG_VIDEO_COMPACT}))),Ra=O("type",{[o.HIDDEN]:No,[o.CARD]:wa,[o.GIF]:ga,[o.LONG_VIDEO_COMPACT]:Da,[o.SHORT_VIDEO]:ba,[o.LIVE]:It,[o.LIVE_RUN_OUT]:Ot,[o.GALLERY]:at,[o.BRIEF]:sn,[o.NEWS]:Do,[o.SHORT_VIDEO_CAROUSEL]:gi,[o.HISTORY_DATE_SEPARATOR]:fa,[o.ONBOARDING_INTEREST_LIST]:ln,[o.INTERVIEW]:Bi,[o.SHOWCASE_CARD]:lo,[o.SUBSCRIPTIONS_MORE]:po,[o.SUBSCRIPTIONS_HEADS]:bo,[o.RECOMMENDATIONS_CHANNELS]:yo,[o.PROMO_PUBLISHERS_CAROUSEL]:vo,[o.PROMO_PUBLICATIONS_CAROUSEL]:qo,[o.LIVE_CAROUSEL]:Yo,[o.SEARCH_PUBLISHERS]:Bo,[o.AD_CAMPAIGN_CARD]:ea,[o.AD_CAMPAIGN_BANNER]:ta,[o.AD_CAMPAIGN_COMPACT_BANNER]:ra,[o.AD_CAMPAIGN_QR_BANNER]:na,[o.SMALL_CARD]:da,[o.SUBSCRIPTIONS_NO_LOGIN]:ia,[o.SUBSCRIPTIONS_EMPTY_CARD]:aa,[o.SUBSCRIPTIONS_ENTRY]:la,[o.SUBSCRIPTIONS_END]:ua,[o.SUBSCRIPTIONS_RECOMMENDATIONS]:ma,[o.TOP_CONTENT_SET]:Ta,[o.DZEN_FIRST_PLACE]:Ea,[o.PUBLISHERS_CHANNEL_SUBSCRIBE_CARD]:xa});let Ba;!function(e){e.SUBSCRIPTIONS_HEADS="subscriptions_heads",e.SUBSCRIPTIONS_HEADS_PLACEHOLDER="subscriptions_heads_placeholder"}(Ba||(Ba={}));const La={subscriptions_heads:e=>Object.assign({},(e=>f(bo,e,"data в карточке subscriptions_heads"))(e),{type:Ba.SUBSCRIPTIONS_HEADS}),subscriptions_heads_placeholder:()=>({type:Ba.SUBSCRIPTIONS_HEADS_PLACEHOLDER,id:l(Ba.SUBSCRIPTIONS_HEADS_PLACEHOLDER),receiveTime:Date.now()})};function Na(e){const t={serverTime:null};return e&&(t.serverTime=e.server_time||null),t}let ja;!function(e){e.SUBSCRIBED="subscribed",e.BLOCKED="blocked",e.NOT_SUBSCRIBED="not_subscribed"}(ja||(ja={}));ja.BLOCKED,ja.SUBSCRIBED,ja.NOT_SUBSCRIBED;let Ma,Ua,Va,Fa,za,Ha;!function(e){e.Normal="normal",e.Header="header"}(Ma||(Ma={})),function(e){e.Normal="normal",e.Navbar="navbar"}(Ua||(Ua={})),function(e){e.Top="top",e.Bottom="bottom"}(Va||(Va={})),function(e){e.Black="black",e.White="white",e.Night="night"}(Fa||(Fa={})),function(e){e.App="app",e.More="more",e.Error="error",e.Load="load"}(za||(za={})),function(e){e.playerBottom="BOTTOM_PLAYER",e.sidebarTop="TOP_SIDEBAR",e.sidebarMultiple="DOC2DOC",e.sidebarLive="LIVE_ADS_BANNER"}(Ha||(Ha={}));let $a,qa,Ga,Wa,Ya,Za,Ja;!function(e){e.Blur="blur",e.Fade="fade"}($a||($a={})),function(e){e.Suggest="catalog_suggest",e.Subscriptions="subscriptions",e.ProfileBlocked="profile_blocked",e.Feed="feed",e.Punch="punch",e.VideoFeed="video_feed",e.VideoViewsHistory="video_views_history",e.Interest="interest",e.Channel="channel",e.Activity="activity_feed",e.VideoRelated="video_related",e.VideoMore="video_more",e.ZenShowcase="zen_showcase",e.Bookmarks="bookmarks"}(qa||(qa={})),function(e){e.Main="main",e.Channel="channel",e.Video="video",e.Interest="interest",e.Showcase="showcase",e.Serp="serp",e.Suite="suite",e.Saved="bookmarks",e.Subscriptions="subscriptions"}(Ga||(Ga={})),function(e){e.Feed="feed",e.Ok="ok",e.Banned="banned",e.NotFound="not_found"}(Wa||(Wa={})),function(e){e.top="top",e.bottom="bottom"}(Ya||(Ya={})),function(e){e.short_video="short_video",e.long_video="long_video"}(Za||(Za={})),function(e){e.id="id",e.name="name",e.socialProfileId="socialProfileId"}(Ja||(Ja={}));const Qa=e=>e.map((e=>Object.assign({},hn({source:e}),{isFromServer:!0}))),Ka=e=>{if(!e)return{status:"complete",result:[]};switch(e.status){case"complete":{const t=e.result&&e.result.items||[];return{status:"complete",result:Qa(t)}}case"error":return e;default:return{status:"error"}}},Xa=e=>{if(!e)return{status:"complete",result:[]};switch(e.status){case"complete":{const t=e.result&&e.result.items||[];return{status:"complete",result:Qa(t).filter((e=>"domain"===e.type||"publisher"===e.type))}}case"error":return e;default:return{status:"error"}}},es=e=>e?_n(Object.assign({subtitle:""},e)):null,ts=Tn({reasons:En(Tn({id:xn,text:xn})),link:Bn(xn)}),rs=e=>{if(e)return((e,t)=>{b(e,t,"")})(ts,e),Object.assign({},e,{link:e.link||"https://dzen.ru/help/abuse/list.html"})},ns=e=>e instanceof Error?e:new Error(String(e)),is=A({iconCode:x,iconalt:T(x),t1:D,t2:D,t2name:x,t3:D,t3name:x,url:x,bulkParams:x}),os=A({regionTitle:T(x),geoid:T(D)}),as=P(U({common:U({ssr:U({html:T(x)})})})),ss=U({teaser:T(as),fullscreen:T(as),systembanner:T(as),stripe:T(as),splashscreen:T(as),popup:T(as),link_bro:T(as)}),ds=A({data:U({banners:ss,context_script:T(x)})}),cs=e=>{if(e)return b(ls,e,"Данные из ssr_banner")},ls=k(ds,(e=>{var t,r;const n=null==e||null==(t=e.data)?void 0:t.banners,i=null==e||null==(r=e.data)?void 0:r.context_script;if(!n)return;const o=Object.keys(n).filter((e=>"main"!==e&&"linkhead"!==e));if(!o.length)return;const a={};return o.forEach((e=>{var t,r,i;const o=n[e],s=null==o||null==(t=o[0])||null==(r=t.common)||null==(i=r.ssr)?void 0:i.html;s&&(a[e]=s)})),Object.keys(a).length?Object.assign({},a,i?{contextScript:i}:{}):void 0})),us=A({data:U({banners:U({main:T(U({common:T(U({ssr:T(U({html:x}))})),settings:T(U({1:T(U({ssr:T(U({html:x}))}))})),rtb:T(U({ssr:T(U({html:x}))}))}))})})}),ps=e=>{if(e)return b(ms,e,"Данные из ssr_banner")},ms=k(us,(e=>{var t,r,n,i,o,a,s,d,c;const l=null==e||null==(t=e.data)||null==(r=t.banners)?void 0:r.main,u=null==l||null==(n=l.common)||null==(i=n.ssr)?void 0:i.html,p=null==l||null==(o=l.settings)||null==(a=o[1])||null==(s=a.ssr)?void 0:s.html,m=null==l||null==(d=l.rtb)||null==(c=d.ssr)?void 0:c.html;if(l)return p||m||u})),gs=e=>{let{items:t=[]}=e;return t.reduce(((e,t)=>{if("recommendations_channels"===t.type){const r=f(ho,t,"Карусель голов в видео рахсопе");e.push(r)}if(t.type===o.GIF||t.type===o.SHORT_VIDEO){const n=(r=t,Object.assign({type:o.GIF},ei(r),{statData:tt(r)}));n&&e.push(n)}var r;return e}),[])};let bs,fs,_s;!function(e){e.USD="USD/RUB",e.EUR="EUR/RUB",e.OIL="OIL"}(bs||(bs={})),function(e){e[e.USD=0]="USD",e[e.EUR=1]="EUR",e[e.OIL=2]="OIL"}(fs||(fs={})),function(e){e.MMVB="MMVB",e.CB="CB"}(_s||(_s={}));const hs=A({value:D,changeabs:D,code:j(bs),exchange:T(j(_s))}),ys=P(hs),vs=A({viewedTime:T(D),viewedTimeView:T(D),duration:D,id:x}),Is=A({feedLink:x}),Os=A({image:x,title:x,domainTitle:x,bulkParams:x,shareLink:x,mainColor:x,blurredPreview:x,video:vs,source:Is}),Ss=O("type",{[o.GIF]:ga,[o.SHORT_VIDEO_CAROUSEL]:gi,[o.CARD]:wa}),ks=A({items:(e=>(t,r)=>(r.assert("object"==typeof t&&Array.isArray(t),"array",typeof t),t.map(((t,n)=>r.deepen(String(n),(()=>{try{return e(t,r)}catch(e){const t=e instanceof Error?e:new Error(String(e));return void r.onError(t.message)}})))).filter((e=>void 0!==e))))(Ss),more:T(U({link:T(x)}))}),ws=M("punch","recommend"),As=e=>{let{suggest_url:t,screens:r}=e;return r||(t?{items:[{query_params:{page_type:"catalog_suggest"},page_type:"catalog_suggest",source:t,type:"suggest",_id:"suggest"}]}:void 0)},Ps=(e,t,r)=>{if(!e)return null;const n=e.reduce(((e,n)=>{if(n)try{const o=f(Ra,i=n,`data в карточке ${i.type} ${i.item_type?i.item_type:""}`);o&&e.push(Object.assign({},o,{packId:t,cacheId:r,id:Es({id:o.id,type:o.type})}))}catch(e){console.error(ns(e).message,`rid: ${t}, itemId: ${n.id}, itemType: ${null==n?void 0:n.type}, itemCardType: ${n.card_type}`)}var i;return e}),[]);return n.length>0?n:null},Ts=(e,t,r)=>{if(!e)return null;const n=e.reduce(((e,n)=>{if(n)try{const i=(e=>{const t=(r=La,n=e.type,r[n]);var r,n;return t?t(e):(console.warn(`Unsupported doc type: ${e.type}`),null)})(n);i&&e.push(Object.assign({},i,{packId:t,cacheId:r,id:Es({id:i.id,type:i.type})}))}catch(e){console.error(ns(e).message,`rid: ${t}, itemId: ${n.id}, itemType: ${null==n?void 0:n.type}, itemCardType: ${n.card_type}`)}return e}),[]);return n.length>0?n:null},Cs=e=>{return e?"live"===(t=e).itemType?Object.assign({},t,Xn(t),{video:void 0,text:t.description,channelOwnerUid:parseInt(t.channelOwnerUid,10),type:o.LIVE,feedback:_e(t.feedbackInfo),isLiveFinished:t.isLiveFinished,receiveTime:Date.now()}):Object.assign({},t,{channelOwnerUid:parseInt(t.channelOwnerUid,10),type:o.GIF,video:Xn(t),feedback:_e(t.feedbackInfo),covid19:t.covid_19,receiveTime:Date.now()}):null;var t},Es=e=>{let{id:t,type:r}=e;return t||l(r)},xs=(e,t)=>{var r,n,i,o;const a=Ps(e.items||[],e.rid,t),s=Ps(e.sidebar_items||[],e.rid,t),d=Ts(e.left_sidebar_items||[],e.rid,t),c=((e,t)=>{if(!e)return{status:Wa.Feed};switch(e.status){case Wa.Banned:case Wa.NotFound:return{status:e.status};case Wa.Ok:{const{social_csrf_token:r}=e;return{status:Wa.Ok,packId:t,socialCsrfToken:r,source:hn(e)}}default:return console.error("Broken channel from backend"),{status:Wa.Feed}}})(e.channel,e.rid),l=Cs(e.video),u=gs({items:e.video_shorts||[]}),p=(k=e.weather,w=e.geo_info,k?Object.assign({},f(is,k,"Геоблок: погода"),f(os,w||{},"Геоблок: город")):null),m=(e=>e?f(Os,e,"Блок досмотра видео"):null)(e.watching_continuation_item),g=e.live_data?f(It,e.live_data,"Ошибка парсинга live_data"):void 0,_=(O=e.informers)&&O.stocks?f(ys,(null==O||null==(S=O.stocks)?void 0:S.data)||null,"Виджет: курс валют"):null,h=(e=>{if(e)return f(ks,e,"data in punch_feed")})(e.punch_feed),y=e.morda_type?f(ws,e.morda_type,"ошибка парсинга morda_type"):void 0,v=e.card_news?(I=e.card_news,f(Do,I,"data в карточке news")):void 0;var I,O,S,k,w;return{rid:e.rid,cacheId:t,receivedAt:e.received_at||0,ttl:1e3*(e.ttl||0),storeTtl:1e3*(e.store_ttl||0),source:e.sf,adFlightId:e.ad_flight_id,adArticleId:e.ad_article_id,publisherId:e.publisher_id,adSecdata:e.ad_secdata,channel:c,suite:e.suite?b(Ge,e.suite,"suite"):void 0,suitesData:e.suites_data,channelPixels:e.channel_pixels,items:a,sidebarItems:s,leftSidebarItems:d,video:l,videoShorts:u,punchFeed:h,feedbackCacheClean:Boolean(e.feedback_cache_clean),experimentsData:e.experiments_data||null,feedFeatureConfig:e.feed_feature_config||null,groupIds:e.group_ids||"",buckets:e.buckets||{},clientDefinition:e.client_definition||null,user:Object.assign({},Na(e.user),{avatar:e.user_avatar}),currentUserRecommendations:Ka(e.current_user_recommendations),currentUserSubscriptions:Xa(e.current_user_subscriptions),currentUserSourceInfo:es(e.current_user_source_info),screens:As(e),bannerMain:ps(e.ssr_banner),distribution:cs(e.ssr_banner),complaints:rs(e.complaints),bulk:e.bulk,mordaType:y,cardNews:v,bulkData:e.bulk_data?b(V(B),e.bulk_data,"bulkData"):void 0,bulkQueryParams:e.bulk_query_params?b(V(Et({string:x,number:D})),e.bulk_query_params,"bulkQueryParams"):void 0,more:{link:null==(r=e.more)?void 0:r.link},gridType:{name:null==(n=e.grid_type)?void 0:n.name},interview:e.interview?b(Di,e.interview,"interview"):void 0,liveData:g,clicksCount:e.clicks_count,pinnedPublicationIds:e.pinned_publication_ids,orderedIds:e.ordered_ids,maxPinnedItems:e.max_pinned_items,geoblock:p,continueWatchingItem:m,currencyRates:_,loginLink:null==(i=e.links)?void 0:i.login,tabs:e.tabs,adPixelsLink:e.ad_pixels_link,adPixelsData:e.ad_pixels_data,auth:{isAuthorized:Boolean(null==(o=e.auth)?void 0:o.is_authorized)},shouldShowToFeedButton:e.should_show_to_feed_button,freshSubscriptionsCount:e.fresh_subscriptions_count}},Ds=function(e,t){return void 0===t&&(t=""),xs(e,t)};r(7453);let Rs,Bs,Ls,Ns,js;!function(e){e.PackShown="packShown",e.ApiResponseTtlExpired="apiResponseTtlExpired",e.ApiResponseErrorTtlExpired="apiResponseErrorTtlExpired",e.NotShownPackUpdated="notShownPackUpdated",e.LastShownPackUpdated="lastShownPackUpdated",e.UpdatePreload="updatePreload"}(Rs||(Rs={})),function(e){e.Export="export",e.Layout="layout",e.More="more",e.Bulk="bulk",e.Subs="subs",e.Profile="profile",e.CountryLang="language",e.Blocked="blocked",e.Preferences="preferences",e.Category="category",e.Categories="categories",e.Suggest="suggest",e.Multisearch="multisearch",e.BlockedSuggest="blocked_suggest",e.VideoRecommend="video_recommend",e.VideoRelated="video_related",e.VideoFeed="video_more",e.HistoryMore="history_more",e.HistoryExport="history_export",e.VideoExport="video_export",e.GetVideoViewerData="get_video_popup_data",e.PublisherConfig="publisher_config",e.CommentsCounter="comments_counter",e.SendAppLinkSms="send_app_link_sms",e.SocialProfile="social_profile",e.SendNativeComplainStats="send_native_complain_stats",e.SocialProfileEdit="social_profile_edit",e.ProfileCompleteOnboarding="profile_complete_onboarding",e.ProfileDeactivate="profile_deactivate",e.ProfileCancelDeactivate="profile_cancel_deactivate",e.AllChannelsLink="all_channels_link",e.CurrentUserInterests="current-user-interests",e.CurrentUserSubscriptions="current-user-subscriptions",e.Teasers="teasers",e.SupportLink="support_link",e.ArticleRelated="article-related",e.ZenSearch="zen-search",e.Videos="videos",e.GetFeedPublications="get-feed-publications"}(Bs||(Bs={})),function(e){e.SessionCache="cacheStorage",e.MultiSessionCache="multiCacheStorage"}(Ls||(Ls={})),function(e){e.Network="network",e.CacheBeforeNetwork="cache-before-network",e.CacheAfterNetwork="cache-after-network"}(Ns||(Ns={})),function(e){e.Video="video",e.Shorts="shorts"}(js||(js={}));Object.keys(Bs).reduce(((e,t)=>(e[t]=null,e)),{}),Ls.SessionCache;const Ms="zen-db",Us="zen-api-cache",Vs="undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB);let Fs=null;const zs=(e,t)=>(Vs?(Fs||(Fs=new Promise(((e,t)=>{const r=Vs.open(Ms,1);r.onerror=()=>{t(r.error)},r.onupgradeneeded=()=>{r.result.createObjectStore(Us)},r.onsuccess=()=>{e(r.result),r.result.onclose=()=>{Fs=null}}}))),Fs):Promise.reject(new Error("indexedDB is not supported."))).then((r=>new Promise(((n,i)=>{const o=r.transaction(Us,e);o.oncomplete=()=>{n()},o.onerror=()=>{i(o.error||new Error("IDB transaction error"))},t(o.objectStore(Us))})))),Hs={get(e){let t;return zs("readonly",(r=>{t=r.get(e)})).then((()=>t.result))},set:(e,t)=>zs("readwrite",(r=>{r.put(t,e)})),delete:e=>zs("readwrite",(t=>{t.delete(e)})),clear:()=>zs("readwrite",(e=>{e.clear()})),keys(){const e=[];return zs("readonly",(t=>{const r=t.openKeyCursor?t.openKeyCursor():t.openCursor();r.onsuccess=()=>{r.result&&(e.push(r.result.key),r.result.continue())}})).then((()=>e))}},$s=(e,t)=>Hs.set(e,t),qs={get:e=>Hs.get(e),put:$s,remove:e=>Hs.delete(e),isEnabled:()=>Boolean("undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB)),keys:()=>Hs.keys().then((e=>{const t=[];return e.forEach((e=>{mn(e)&&t.push(e)})),t}))},Gs=(()=>{const e={};return{get:t=>Promise.resolve(e[t]),put:(t,r)=>(e[t]=r,Promise.resolve()),remove:t=>(delete e[t],Promise.resolve()),isEnabled:()=>!0,keys:()=>Promise.resolve(Object.keys(e))}})(),Ws="Cache disabled.";class Ys extends Error{constructor(e){super((e=>`ZenApiCache: ${e}`)(e))}}const Zs=e=>{let{type:t=Ls.SessionCache,namespace:r="common",validator:n}=e;const i=Qs(t),o=e=>`${r}-${e}`;return{get(e){const t=o(e);return i.get(t).then((e=>{if(!(e=>n?n(e):Js(e))(e))throw new Ys("No cache record or scheme invalid");return e}))},put(e,t){const r=o(e);return i.put(r,t)},remove(e){const t=o(e);return i.remove(t)},keys:()=>i.keys(),isEnabled:()=>i.isEnabled()}},Js=e=>Boolean(e&&e.type&&e.apiResponse&&e.params),Qs=e=>{if(e===Ls.MultiSessionCache&&qs.isEnabled())return qs;if(Gs.isEnabled())return Gs;throw new Ys("Failed to get storage provider")},Ks=e=>{try{return decodeURIComponent(e)}catch(e){return null}},Xs=/[?&]([^&#]*)/,ed=e=>{const t={},r=e.indexOf("?");if(-1===r)return t;let n=r;for(;;){const r=e.slice(n).match(Xs);if(!r)break;n+=r[0].length;const[i,o]=r[1].split("=");if(!i||!o)continue;const a=Ks(i),s=Ks(o);a&&s&&(t[a]=s)}return t},td=e=>{const t=(r=e,Object.keys(r));var r;return 0===t.length?"":t.reduce(((t,r)=>{const n=e[r];return r&&void 0!==n?`${t}${0===t.length?"?":"&"}${encodeURIComponent(r)}=${encodeURIComponent(n)}`:t}),"")},rd=(e,t)=>{const r=Object.assign({},ed(e),t),n=e.indexOf("?"),i=e.indexOf("#"),o=-1!==i?i:e.length,a=-1!==n?n:o;return e.slice(0,a)+td(r)+e.slice(o)},nd=["params","timeout","credentials"],id="application/json",od=e=>{const{ok:t,url:r,status:n,statusText:i}=e;if(!t)throw new Error(`${r} ${n} (${i})`);return(e=>{const t=e.headers.get("Content-Type");return t&&t.includes(id)?e.json():e.text()})(e)},ad=function(e,t){void 0===t&&(t={});const{params:r,timeout:n=6e4,credentials:i="include"}=t,o=c(t,nd),a=r?rd(e,r):e;return new Promise(((e,t)=>{fetch(a,Object.assign({credentials:i},o)).then(od).then(e,t),(e=>new Promise((t=>{setTimeout(t,e)})))(n).then((()=>{t(new Error("Request timeout."))}))}))},sd=function(e,t){return void 0===t&&(t={}),ad(e,Object.assign({},t,{method:"GET",params:Object.assign({},t.params||{},{rnd:String(Date.now())})}))},dd=function(e){void 0===e&&(e={});const t=Object.assign({Accept:id},e.headers),{method:r="POST"}=e;let{body:n}=e;return t["Content-Type"]||n instanceof FormData||(t["Content-Type"]=id,n&&"string"!=typeof n&&(n=JSON.stringify(n))),Object.assign({},e,{method:r,headers:t,body:n})},cd=function(e,t){return void 0===t&&(t={}),ad(e,dd(t))},ld=function(e,t){return void 0===t&&(t={}),ad(e,dd(Object.assign({},t,{method:"PUT"})))},ud=function(e,t){return void 0===t&&(t={}),ad(e,dd(t))},pd=e=>{let{userInfo:t,zenFeatures:r,clientExperiments:n}=e;const i={};return t&&t.oauthToken&&(i.Authorization=`OAuth ${t.oauthToken}`),Object.keys(r||{}).length>0&&(i["Zen-Features"]=JSON.stringify(Object.assign({},r,{web_ntp_version:md()}))),i["Zen-Client-Experiments"]=["zen-version:3.133.0",...Array.isArray(n)&&n.length>0?n:[]].join(", "),i["X-ZenLib-Version"]="3.133.0",i},md=()=>{if("undefined"==typeof window||!window)return;const e=window;return"string"==typeof e.WEB_NTP_VERSION?e.WEB_NTP_VERSION:void 0},gd=e=>{const t=ed(e);return{experiment:t.experiment,excludeExperiments:t.excludeExperiments,telemetry:t.telemetry}},bd=e=>{let{clid:t,referrerClid:r,referrerPlace:n,countryCode:i}=e;const o="undefined"!=typeof window?gd(window.location.href):{};return Object.assign({},o,{clid:t,country_code:i,referrer_clid:r,referrer_place:n})},fd=e=>{const t={};return e.partnerId&&(t.partner_user_id=String(e.partnerId)),e.adId&&(t.user_ad_id=String(e.adId)),t},_d={[Bs.Export]:"export",[Bs.VideoFeed]:"video-more",[Bs.VideoExport]:"video-export",[Bs.HistoryMore]:"history-more",[Bs.HistoryExport]:"history-export",[Bs.Layout]:"layout",[Bs.Teasers]:"teasers",[Bs.PublisherConfig]:"publisher-config",[Bs.CurrentUserSubscriptions]:"current-user-subscriptions",[Bs.ArticleRelated]:"article-related",[Bs.ZenSearch]:"zen-search",[Bs.Videos]:"videos/__public_id__",[Bs.GetFeedPublications]:`${Bs.GetFeedPublications}?ids=__publication_id__&publisherId=__publisher_id__`},hd={[Bs.CurrentUserInterests]:"api/social/current-user-interests",[Bs.SendNativeComplainStats]:"api/v4/stats/common"};class yd extends Error{}const vd=(e,t,r)=>{const n=_d[e];if(n){const e=Sd(t),r=(e=>{let{clid:t,referrerClid:r,referrerPlace:n,countryCode:i,channelName:o,channelId:a,interestName:s,socialProfileId:d,feedFilterType:c,userInfo:l={},articleId:u,itemType:p,itemId:m,sourceId:g,sourceType:b}=e;return Object.assign({},bd({clid:t,referrerClid:r,referrerPlace:n,countryCode:i}),fd(l),{channel_name:o,channel_id:a,interest_name:s,social_profile_id:d,feed_filter_type:c,article_id:u,item_type:p,item_id:m,source_id:g,source_type:b})})(e);return Id(e.host,n,r)}const i=hd[e];if(i){const e=Sd(t),r=bd(e);return Od(e.host,i,r)}const o=r&&r[e];if(!o)throw new yd(`ZenApi ${e} url is not configured.`);return o},Id=(e,t,r)=>rd(`${e}api/v3/launcher/${t}`,r),Od=(e,t,r)=>rd(`${e}${t}`,r),Sd=e=>{if(!e.clid)throw new yd("ZenApi clid is not configured.");if(!e.host)throw new yd("ZenApi host is not configured.");return{host:e.host,clid:e.clid,countryCode:e.countryCode||void 0,columnCount:e.columnCount,referrerClid:e.referrerClid,referrerPlace:e.referrerPlace,userInfo:e.userInfo,channelName:e.channelName,interestName:e.interestName,channelId:e.channelId,socialProfileId:e.socialProfileId,feedFilterType:e.feedFilterType,articleId:e.articleId,sourceId:e.sourceId,itemId:e.itemId,itemType:e.itemType,sourceType:e.sourceType}},kd=(e,t)=>{const{type:r,host:n,makeApiRequest:i=wd,clid:o,referrerClid:a,referrerPlace:s,countryCode:d,userInfo:c,zenFeatures:l,clientExperiments:u,articleId:p,columnCount:m,itemId:g,itemType:b,sourceId:f,sourceType:_}=e;return i(vd(r,{clid:o,countryCode:d,host:n,referrerClid:a,referrerPlace:s,userInfo:c,articleId:p,itemId:g,itemType:b,sourceId:f,sourceType:_,columnCount:m}),t,{userInfo:c,zenFeatures:l,clientExperiments:u}).then((e=>Object.assign({},e,{received_at:Date.now()})))},wd=(e,t,r)=>{const n=((e,t)=>{const{method:r,params:n,mode:i,headers:o}=e,a={params:n,headers:Object.assign({},t?pd(t):{},o),mode:i,method:r};return e.body?Object.assign({},a,{body:e.body}):a})(t,r),{method:i,body:o}=n,a=Ad(i,o);return Pd(a)(e,n)},Ad=(e,t)=>e?t&&"GET"===e?"POST":e:t?"POST":"GET",Pd=e=>{switch(e){case"PUT":return ld;case"POST":return cd;case"DELETE":return ud;default:return sd}};var Td=r(1325),Cd=r.n(Td);const Ed=(e,t)=>{const r=Object.keys(e),n={};for(let i=0;i<r.length;i++){const o=r[i];t.includes(o)||(n[o]=e[o])}return n};class xd extends Error{toString(){return`ZenApiValidationError: '${this.message}'; ${JSON.stringify({type:this.type,ttl:this.ttl,rid:this.rid,receivedAt:this.receivedAt})}`}constructor(e){super(null==e?void 0:e.message),null!=e&&e.type&&(this.type=e.type),null!=e&&e.ttl&&(this.ttl=e.ttl),null!=e&&e.rid&&(this.rid=e.rid),null!=e&&e.receivedAt&&(this.receivedAt=e.receivedAt)}}const Dd=e=>{if(!(e&&e.type&&e.apiResponse&&e.params&&"3.133.0"===e.params.version))throw new Ys("Invalid cache record scheme.")},Rd=e=>{if(!e||!e.items)throw new Ys("Invalid api response to put in cache.")},Bd=e=>pn(e)||mn(e),Ld=(e,t)=>{const r=Boolean(e.isAdblockEnabled)===Boolean(t.isAdblockEnabled),n=!Bd(e.clid)||e.clid===t.clid,i=!Bd(e.referrerClid)||e.referrerClid===t.referrerClid,o=!mn(e.referrerPlace)||e.referrerPlace===t.referrerPlace,a=!mn(e.countryCode)||e.countryCode===t.countryCode;return r&&n&&i&&o&&a&&Cd()(e.feedFilter,t.feedFilter)},Nd=(e,t)=>e.userId&&t.userId&&e.userId===t.userId,jd=(e,t,r)=>Cd()(e.zenFeatures&&Ed(e.zenFeatures,r),t.zenFeatures&&Ed(t.zenFeatures,r)),Md=(e,t,r)=>{if(!Array.isArray(e.clientExperiments))return!0;const n=((e,t)=>{const r=[];e&&Array.isArray(e.clientExperiments)&&r.push(...e.clientExperiments);const n=t.experimentsData;return n&&Object.keys(n).forEach((e=>{const t=n[e];bn(t)&&t.exp&&r.push(e)})),r})(t,r);return e.clientExperiments.every((e=>n.includes(e)))},Ud=e=>{Vd(e),zd(e)},Vd=e=>{if(!Fd(e))throw new xd({message:"Validation error. No items in ApiResponse",ttl:e.ttl,type:e.errorType,rid:e.rid,receivedAt:e.receivedAt})},Fd=e=>Array.isArray(e.items)&&e.items.length>0,zd=e=>{if(!(e=>{var t,r;return Boolean(null==(t=e.more)?void 0:t.link)&&Boolean(null==(r=e.bulk)?void 0:r.link)})(e))throw new xd({message:"Validation error. No more/bulk links in ApiResponse",ttl:e.ttl,type:e.errorType,rid:e.rid,receivedAt:e.receivedAt})},Hd=e=>{let{storage:t,cacheId:r,apiResponseValidator:n,validationParams:i}=e;const o=`not-shown-pack${r}`,a=`last-shown-pack${r}`,s=(e,t)=>{let{byStoreTtl:r,ignoredZenFeatures:o}=t;const a=Ds(e.apiResponse);return((e,t)=>{const{receivedAt:r,ttl:n,storeTtl:i}=e,o=t?i:n;if(!(pn(r)&&pn(o)&&r+o>Date.now()))throw new Ys(`Invalid cache ${t?"store-ttl":"ttl"}.`)})(a,r),((e,t,r,n)=>{if(!e)throw new Ys("RequestCacheParams undefined");if(!t)throw new Ys("Cache params undefined");if(!Nd(e,t))throw new Ys("Invalid UserId");if(!Ld(e,t))throw new Ys("Invalid AppParams");if(!jd(e,t,n))throw new Ys("Invalid ZenFeatures");if(!Md(e,t,r))throw new Ys("Invalid ClientExperiments")})(i,e.params,a,o),Rd(a),n(a),a},d=(e,t,r)=>(Rd(r),n(r),{type:e,apiResponse:t,params:i});return{getNotShownPack(e){let{byStoreTtl:r=!1,ignoredZenFeatures:n=[]}=void 0===e?{}:e;return t.get(o).then((e=>new Promise(((r,n)=>{try{Dd(e),r(e)}catch(e){t.remove(o).then((()=>n(e)),(()=>n(e)))}})))).then((e=>{const t=s(e,{byStoreTtl:r,ignoredZenFeatures:n});return Object.assign({},e,{parsedApiResponse:t})}))},getLastShownPack(e){let{byStoreTtl:r=!1,ignoredZenFeatures:n=[]}=void 0===e?{}:e;return t.get(a).then((e=>new Promise(((r,n)=>{try{Dd(e),r(e)}catch(e){t.remove(a).then((()=>n(e)),(()=>n(e)))}})))).then((e=>{const t=s(e,{byStoreTtl:r,ignoredZenFeatures:n});return Object.assign({},e,{parsedApiResponse:t})}))},getNotShownOrLastShownPack(e){return void 0===e&&(e=!0),this.getNotShownPack({byStoreTtl:e}).catch((()=>this.getLastShownPack({byStoreTtl:e})))},putNotShownPack:(e,r,n)=>Promise.resolve().then((()=>{const i=d(e,r,n);return t.put(o,i)})),putLastShownPack:(e,r,n)=>Promise.resolve().then((()=>{const i=d(e,r,n);return t.put(a,i)})),removeNotShownPack:()=>t.remove(o),removeLastShownPack:()=>t.remove(a)}},$d=e=>{const{oauthToken:t,login:r,deviceId:n,partnerId:i,profileId:o,yandexuid:a}=e;return t||r||(()=>{const e=`; ${document.cookie}`.match(/; yandex_login=([^;]*)/);return e&&e[1]})()||i||n||o||a||(()=>{const e=`; ${document.cookie}`.match(/; yandexuid=([^;]*)/);return e&&e[1]})()},qd=e=>{let{request:r,cache:n,apiResponseValidator:i}=e;const{apiRequestParams:o}={apiRequestParams:{},cacheMode:t.Default},a=(e=>{if(!e.clid)throw new Error("ZenApi clid is not configured.");const{clid:t,referrerClid:r,referrerPlace:n,countryCode:i,clientExperiments:o,zenFeatures:a,userInfo:s,feedFilter:d,isAdblockEnabled:c}=e;return{clid:t,referrerClid:r,referrerPlace:n,countryCode:i,clientExperiments:o,zenFeatures:a,feedFilter:d,isAdblockEnabled:c,userId:$d(s),version:"3.133.0"}})(r),s=n?Hd({storage:Zs(n),validationParams:a,apiResponseValidator:i,cacheId:""}):{getNotShownPack(){throw new Ys(Ws)},getLastShownPack(){throw new Ys(Ws)},getNotShownOrLastShownPack(){throw new Ys(Ws)},putNotShownPack:()=>Promise.resolve(),putLastShownPack:()=>Promise.resolve(),removeNotShownPack:()=>Promise.resolve(),removeLastShownPack:()=>Promise.resolve()};return Zd({cache:s,requestConfig:Object.assign({type:Bs.Export},r),requestOptions:{params:o},requestProvider:kd,responseParser:Ds})},Gd=e=>{if(!e.length)throw new Error("Cannot create method with 0 middlewares");return t=>e.reduce(((e,r)=>e.catch((e=>r(t,e)))),Promise.reject())},Wd=e=>Jd(e).then((t=>{var r;const{apiResponse:n,parsedApiResponse:i}=t,o=()=>t;return e.cache.putNotShownPack(null!=(r=e.requestConfig.type)?r:Bs.Export,n,i).then(o,o)})),Yd=(Gd([e=>e.cache.getNotShownPack(),e=>e.cache.getNotShownOrLastShownPack(!0).then((t=>(e.requestConfig.type=Bs.More,Wd(e),t))).catch((()=>(e.requestConfig.type=Bs.Export,Wd(e))))]),(e,t)=>{let{cache:r}=e;return r.getNotShownOrLastShownPack(!0).catch((()=>Promise.reject(t)))}),Zd=Gd([e=>{let{cache:t}=e;return t.getNotShownPack()},Wd,Yd]),Jd=(Gd([Wd,Yd]),e=>{let{requestConfig:t,requestOptions:r,requestProvider:n,responseParser:i}=e;return n(t,r).then((e=>({apiResponse:e,parsedApiResponse:i(e)})))}),Qd=(e,t)=>e&&((e,t)=>{const r=e&&e.storeId,n=e&&e.userId;if(n)return{type:t?Ls.SessionCache:Ls.MultiSessionCache,namespace:`lib-${r||"default-zen-store"}-${n||"empty"}`,isPrefetchEnabled:!0}})(e.api,t&&t.tags&&Array.isArray(t.tags)&&1===t.tags.length),Kd=e=>e&&e.precacheKey&&e.precacheRid?{key:e.precacheKey,rid:e.precacheRid}:void 0,Xd=e=>{let{source:t,container:r,withoutBlockingRender:n=!0}=e;return new Promise(((e,i)=>{const o=document.createElement("link");var a;o.rel="stylesheet",o.href=t,o.media=n?"inapplicable":"all",o.onload=()=>{n&&(o.media="all"),e(o)},o.onerror=()=>{r.removeChild(o),i(new Error(`Failed to load css: '${t}'.`))},a=()=>r.appendChild(o),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function e(){document.removeEventListener("DOMContentLoaded",e),a()})):a()}))},ec=e=>{let{source:t,container:r,asyncAttr:n=!0,defer:i=!1}=e;return new Promise(((e,o)=>{const a=document.createElement("script");a.src=t,a.async=n,a.defer=i,a.crossOrigin="anonymous",a.onload=()=>{e(a)},a.onerror=()=>{r.removeChild(a),o(new Error(`Failed to load script: '${t}'.`))},r.appendChild(a)}))},tc=e=>{const{appPackageUrl:t,bundleName:r,target:n}=e;return`${t}/${r}.${n}.css`},rc=e=>{const{appPackageUrl:t,bundleName:r,target:n,lang:i}=e;return`${t}/${function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(".")}(r,n,i,"bundle","js")}`},nc=Object.entries,ic=e=>(t,r)=>{const n=r.find((r=>{let{conditions:n}=r;return nc(n).every((r=>{let[n,i]=r;const o=t[n],a=e[n];return!(!o||!i)&&a(String(o),i)}))}));return n?n.target:null},oc=(e,t)=>((e,t)=>{const r=[e,t].map((e=>e.split(".").map((e=>parseInt(e,10))))),n=r[0],i=r[1],o=Math.min(n.length,i.length);for(let e=0;e<o;e++){const t=n[e],r=i[e];if(t!==r)return t>r?1:-1}return 0})(e,t)>=0,ac=(e,t)=>!oc(e,t),sc=ic({BrowserName:Object.is,BrowserVersion:oc,BrowserBase:Object.is,BrowserBaseVersion:oc,BrowserEngine:Object.is,BrowserEngineVersion:oc,OSFamily:Object.is,OSVersion:oc}),dc=ic({BrowserName:Object.is,BrowserVersion:ac,BrowserBase:Object.is,BrowserBaseVersion:ac,BrowserEngine:Object.is,BrowserEngineVersion:ac,OSFamily:Object.is,OSVersion:ac});let cc;!function(e){e[e.Desktop=0]="Desktop",e[e.Tablet=1]="Tablet",e[e.Mobile=2]="Mobile"}(cc||(cc={}));const lc=e=>e.isIzenkit||e.isZenkit?cc.Mobile:e.isTablet?cc.Tablet:e.isMobile&&e.isTouch?cc.Mobile:cc.Desktop;let uc;!function(e){e.Modern="modern",e.Legacy="legacy",e.Node="node"}(uc||(uc={}));const pc="55",mc="55",gc="13",bc="42",fc="45",_c="4.4",hc="17.3.0.1",yc="12.0",vc=(uc.Modern,uc.Legacy,uc.Node,[{target:uc.Modern,conditions:{BrowserBase:"Chromium",BrowserBaseVersion:pc}},{target:uc.Modern,conditions:{BrowserBase:"Chrome",BrowserBaseVersion:pc}},{target:uc.Modern,conditions:{BrowserName:"YandexBrowser",BrowserVersion:hc}},{target:uc.Modern,conditions:{BrowserName:"Firefox",BrowserVersion:mc}},{target:uc.Modern,conditions:{BrowserName:"Safari",BrowserVersion:"13"}},{target:uc.Legacy,conditions:{BrowserBase:"Chromium",BrowserBaseVersion:bc}},{target:uc.Legacy,conditions:{BrowserBase:"Chrome",BrowserBaseVersion:bc}},{target:uc.Legacy,conditions:{BrowserName:"MSIE",BrowserVersion:"11"}},{target:uc.Legacy,conditions:{BrowserName:"Edge",BrowserVersion:"12"}},{target:uc.Legacy,conditions:{BrowserName:"Firefox",BrowserVersion:fc}},{target:uc.Legacy,conditions:{BrowserName:"Safari",BrowserVersion:"9"}}]),Ic=vc.filter((e=>e.target===uc.Legacy)).concat({target:uc.Legacy,conditions:{BrowserEngine:"Presto"}}),Oc=[{target:uc.Modern,conditions:{BrowserBase:"Chromium",BrowserBaseVersion:pc}},{target:uc.Modern,conditions:{BrowserBase:"Chrome",BrowserBaseVersion:pc}},{target:uc.Modern,conditions:{BrowserName:"ChromeMobile",BrowserVersion:pc,OSFamily:"Android",OSVersion:_c}},{target:uc.Modern,conditions:{BrowserName:"YandexBrowser",BrowserVersion:hc,OSFamily:"Android",OSVersion:_c}},{target:uc.Modern,conditions:{BrowserName:"YandexSearch",BrowserVersion:yc,OSFamily:"Android",OSVersion:_c}},{target:uc.Modern,conditions:{BrowserName:"YandexSearch",BrowserVersion:yc,OSFamily:"iOS",OSVersion:gc}},{target:uc.Modern,conditions:{BrowserName:"MobileFirefox",BrowserVersion:mc}},{target:uc.Modern,conditions:{BrowserName:"MobileSafari",OSFamily:"iOS",OSVersion:gc}},{target:uc.Modern,conditions:{BrowserBase:"Safari",OSFamily:"iOS",OSVersion:gc}},{target:uc.Legacy,conditions:{BrowserBase:"Chromium",BrowserBaseVersion:bc}},{target:uc.Legacy,conditions:{BrowserBase:"Chrome",BrowserBaseVersion:bc}},{target:uc.Legacy,conditions:{BrowserName:"MobileFirefox",BrowserVersion:fc}},{target:uc.Legacy,conditions:{OSFamily:"Android",OSVersion:_c}},{target:uc.Legacy,conditions:{OSFamily:"iOS",OSVersion:"7"}}],Sc=Oc.filter((e=>e.target===uc.Legacy)),kc=[{target:uc.Modern,conditions:{BrowserBase:"Chromium",BrowserBaseVersion:pc}},{target:uc.Modern,conditions:{BrowserBase:"Chrome",BrowserBaseVersion:pc}},{target:uc.Modern,conditions:{BrowserName:"ChromeMobile",BrowserVersion:pc,OSFamily:"Android",OSVersion:_c}},{target:uc.Modern,conditions:{BrowserName:"YandexBrowser",BrowserVersion:hc,OSFamily:"Android",OSVersion:_c}},{target:uc.Modern,conditions:{BrowserName:"YandexSearch",BrowserVersion:yc,OSFamily:"Android",OSVersion:_c}},{target:uc.Modern,conditions:{BrowserName:"YandexSearch",BrowserVersion:yc,OSFamily:"iOS",OSVersion:gc}},{target:uc.Modern,conditions:{BrowserName:"MobileFirefox",BrowserVersion:mc}},{target:uc.Modern,conditions:{BrowserName:"MobileSafari",OSFamily:"iOS",OSVersion:gc}},{target:uc.Modern,conditions:{BrowserBase:"Safari",OSFamily:"iOS",OSVersion:gc}},{target:uc.Legacy,conditions:{BrowserBase:"Chromium",BrowserBaseVersion:bc}},{target:uc.Legacy,conditions:{BrowserBase:"Chrome",BrowserBaseVersion:bc}},{target:uc.Legacy,conditions:{BrowserName:"MobileFirefox",BrowserVersion:fc}},{target:uc.Legacy,conditions:{OSFamily:"Android",OSVersion:_c}},{target:uc.Legacy,conditions:{OSFamily:"iOS",OSVersion:"7"}}],wc=kc.filter((e=>e.target===uc.Legacy)),Ac=(e,t)=>Boolean(dc(e,t));let Pc,Tc,Cc;!function(e){e.bright="bright",e.black="black",e.white="white",e.portal="portal"}(Pc||(Pc={})),function(e){e.light="light",e.dark="dark"}(Tc||(Tc={})),function(e){e.light="light",e.dark="dark",e.system="system"}(Cc||(Cc={}));const Ec={no_amp_links:!0,forced_bulk_stats:!0,blurred_preview:!0,big_card_images:!0,complaints_with_reasons:!0,pass_experiments:!0,video_providers:["yandex-web","youtube","youtube-web"],screen:{dpi:241,width:"undefined"!=typeof window?window.innerWidth:0,height:"undefined"!=typeof window?window.innerHeight:0},need_background_image:!0,color_theme:Pc.white,no_small_auth:!0,need_main_color:!0,need_zen_one_data:!0,interests_supported:!0,return_sources:!0,screens:["feed","category","categories","profile","switchable_subs","suggest","multisearch","blocked","preferences","subscribers","blocked_suggest","video_recommend","video_related","language","send_app_link_sms","comments_counter","comments_infos","social_profile","social_profile_edit","social_interests_feedback","profile_onboarding_shown","profile_complete_onboarding","profile_deactivate","profile_cancel_deactivate","get_video_popup_data","get_online_viewer_count","video_more"],stat_params_with_context:!0,carousel_support:!0},xc="https://dzen.ru/",Dc=(e,t,r)=>{const{clid:n,countryCode:i,exps:o=[],feedFilter:a,host:s=xc,referrerClid:d,cache:c,articleId:l,articleSourceId:u,useArticleRelatedRequest:p}=e,m={host:s,clid:n,referrerClid:d,countryCode:i,clientExperiments:o,cache:r,feedFilter:a,zenFeatures:t,userInfo:{},type:Bs.Export},g=Object.assign({},m,{articleId:l,precache:Kd(c)}),b=Object.assign({},m,{itemId:l,sourceId:u,itemType:"native",sourceType:"publisher",type:Bs.ArticleRelated});return p?b:g},Rc={zenlibPubArticleDesktop:{appName:"zenlib-pub-article-desktop",bundleName:"app",columnCount:3},zenlibPubArticleMobile:{appName:"zenlib-pub-article-mobile",bundleName:"app",columnCount:1}},Bc=new e,Lc=new e,Nc=Lc.on.bind(Lc),jc=Lc.off.bind(Lc),Mc={create:e=>{const{clid:t,theme:r,lang:n,countryCode:i,libType:o,exps:a=[],isVideoDisabled:s,initialDisplayedRowsNumber:d=3,referrerClidResetTimeout:c,feedFilter:l,afterLoginSubscribe:u,afterLoginLike:p,host:m=xc,referrerClid:g,referrerPlace:b,columnCount:f,cache:_,uatraits:h,appPackageUrl:y,shouldDisableCacheInArticleFeed:v,useArticleRelatedRequest:I}=e,O=(e=>{const t="undefined"!=typeof document&&document.location.host||void 0;return null!=t&&t.includes("dzen")?e.replace(/^([^/]*\/\/)?([^/]+)(\/|$)/,`$1${t}$3`):e})(m),{bundleName:S,columnCount:k}=Rc[o],w=Qd(_,l),A=function(e){void 0===e&&(e={});const{columnCount:t,theme:r,isVideoDisabled:n,screen:i,disabledYandexBlockIds:o,redesign:a}=e,s=Object.assign({},Ec,{color_theme:r,screen:{width:(null==i?void 0:i.width)||Ec.screen.width,height:(null==i?void 0:i.height)||Ec.screen.height,dpi:(null==i?void 0:i.dpi)||Ec.screen.dpi},redesign:a});return n&&(s.no_videos=!0,delete s.video_providers),o&&(s.disabled_yandex_block_ids=o),t&&(s.column_count=t),s}({columnCount:f||k,theme:r,isVideoDisabled:s}),P=(e=>{var t,r,n;if(e.isRobot)return uc.Legacy;switch(lc(e)){case cc.Desktop:return Ac(e,Ic)?null:null!=(t=sc(e,vc))?t:uc.Legacy;case cc.Tablet:return Ac(e,Sc)?null:null!=(r=sc(e,Oc))?r:uc.Legacy;case cc.Mobile:return Ac(e,wc)?null:null!=(n=sc(e,kc))?n:uc.Legacy}})(h);if(!P)throw new Error("Zen Library does not support current browser");const T={appPackageUrl:y,bundleName:S,target:P,lang:n};return Promise.all([qd({request:Dc(Object.assign({},e,{host:O}),A,w),apiResponseValidator:Ud,cache:v?void 0:w}),ec({source:rc(T),container:document.head}).then((()=>(e=>{const t=e.YandexZen&&e.YandexZen.app;if(!t)throw new Error("App has not been loaded correctly.");return t})(window))),Xd({source:tc(T),container:document.head})]).then((e=>{var r;let[{parsedApiResponse:o},s]=e;const m={host:O,clid:t,referrerClid:g,referrerPlace:b,countryCode:i,lang:n,zenFeatures:A,clientExperiments:a,cache:v?void 0:w,feedFilter:l,exps:a,initialDisplayedRowsNumber:d,referrerClidResetTimeout:c,afterLoginSubscribe:u,afterLoginLike:p,appPackageUrl:y};if(!I||o.items&&0!==(null==o||null==(r=o.items)?void 0:r.length))return s.init(m,o),s})).catch((e=>{throw console.error(e),e}))},on:Nc,off:jc,addListener:Nc,removeListener:jc,trigger:Bc.emit.bind(Bc)}})(),(window.YandexZen=window.YandexZen||{}).loader=n.default})();